<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.1d3 20150301//EN"  "JATS-archivearticle1.dtd"><article article-type="research-article" dtd-version="1.1d3" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink"><front><journal-meta><journal-id journal-id-type="nlm-ta">elife</journal-id><journal-id journal-id-type="hwp">eLife</journal-id><journal-id journal-id-type="publisher-id">eLife</journal-id><journal-title-group><journal-title>eLife</journal-title></journal-title-group><issn pub-type="epub" publication-format="electronic">2050-084X</issn><publisher><publisher-name>eLife Sciences Publications, Ltd</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="publisher-id">15747</article-id><article-id pub-id-type="doi">10.7554/eLife.15747</article-id><article-categories><subj-group subj-group-type="display-channel"><subject>Research Article</subject></subj-group><subj-group subj-group-type="heading"><subject>Ecology</subject></subj-group><subj-group subj-group-type="heading"><subject>Computational and Systems Biology</subject></subj-group></article-categories><title-group><article-title>Community-level cohesion without cooperation</article-title></title-group><contrib-group><contrib contrib-type="author" corresp="yes" id="author-52589"><name><surname>Tikhonov</surname><given-names>Mikhail</given-names></name><contrib-id contrib-id-type="orcid">http://orcid.org/0000-0002-9558-1121</contrib-id><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="aff" rid="aff2">2</xref><xref ref-type="aff" rid="aff3">3</xref><xref ref-type="corresp" rid="cor1">*</xref><xref ref-type="other" rid="par-1"/><xref ref-type="other" rid="par-2"/><xref ref-type="fn" rid="con1"/><xref ref-type="fn" rid="conf1"/></contrib><aff id="aff1"><label>1</label><institution content-type="dept">Center of Mathematical Sciences and Applications</institution>, <institution>Harvard University</institution>, <addr-line><named-content content-type="city">Cambridge</named-content></addr-line>, <country>United States</country></aff><aff id="aff2"><label>2</label><institution content-type="dept">Harvard John A Paulson School of Engineering and Applied Sciences</institution>, <institution>Harvard University</institution>, <addr-line><named-content content-type="city">Cambridge</named-content></addr-line>, <country>United States</country></aff><aff id="aff3"><label>3</label><institution content-type="dept">Kavli Institute for Bionano Science and Technology</institution>, <institution>Harvard University</institution>, <addr-line><named-content content-type="city">Cambridge</named-content></addr-line>, <country>United States</country></aff></contrib-group><contrib-group content-type="section"><contrib contrib-type="editor"><name><surname>Bergstrom</surname><given-names>Carl T</given-names></name><aff id="aff4"><institution>University of Washington</institution>, <country>United States</country></aff></contrib></contrib-group><author-notes><corresp id="cor1"><email>tikhonov@fas.harvard.edu</email></corresp><fn id="fn1"><p><bold>Competing interests statement:</bold> I have no competing interests.</p></fn></author-notes><pub-date date-type="pub" publication-format="electronic"><day>16</day><month>06</month><year>2016</year></pub-date><pub-date pub-type="collection"><year>2016</year></pub-date><volume>5</volume><elocation-id>e15747</elocation-id><history><date date-type="received"><day>02</day><month>03</month><year>2016</year></date><date date-type="accepted"><day>10</day><month>06</month><year>2016</year></date></history><permissions><copyright-statement>© 2016, Tikhonov et al</copyright-statement><copyright-year>2016</copyright-year><copyright-holder>Tikhonov et al</copyright-holder><license xlink:href="http://creativecommons.org/licenses/by/4.0/"><license-p>This article is distributed under the terms of the <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution License</ext-link>, which permits unrestricted use and redistribution provided that the original author and source are credited.</license-p></license></permissions><self-uri content-type="pdf" xlink:href="elife-15747-v2.pdf"/><related-article ext-link-type="doi" id="ra1" related-article-type="commentary" xlink:href="10.7554/eLife.18753"/><abstract><object-id pub-id-type="doi">10.7554/eLife.15747.001</object-id><p>Recent work draws attention to community-community encounters ('coalescence') as likely an important factor shaping natural ecosystems. This work builds on MacArthur’s classic model of competitive coexistence to investigate such community-level competition in a minimal theoretical setting. It is shown that the ability of a species to survive a coalescence event is best predicted by a community-level 'fitness' of its native community rather than the intrinsic performance of the species itself. The model presented here allows formalizing a macroscopic perspective whereby a community harboring organisms at varying abundances becomes equivalent to a single organism expressing genes at different levels. While most natural communities do not satisfy the strict criteria of multicellularity developed by multi-level selection theory, the effective cohesion described here is a generic consequence of resource partitioning, requires no cooperative interactions, and can be expected to be widespread in microbial ecosystems.</p><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.001">http://dx.doi.org/10.7554/eLife.15747.001</ext-link></p></abstract><abstract abstract-type="executive-summary"><object-id pub-id-type="doi">10.7554/eLife.15747.002</object-id><title>eLife digest</title><p>Microbes live in us and on us. They are tremendously important for our health, but remain difficult to understand, since a microbial community typically consists of hundreds of species that interact in complex ways that we cannot fully characterize. It is tempting to ask whether one might instead characterize such a community as a whole, treating it as a multicellular &quot;super-organism&quot;. However, taking this view beyond a metaphor is controversial, because the formal criteria of multicellularity require pervasive levels of cooperation between organisms that do not occur in most natural communities.</p><p>In nature, entire communities of microbes routinely come into contact – for example, kissing can mix together the communities in each person’s mouth. Can such events be usefully described as interactions between community-level &quot;wholes&quot;, even when individual bacteria do not cooperate with each other? And can these questions be asked in a rigorous mathematical framework?</p><p>Mikhail Tikhonov has now developed a theoretical model that shows that communities of purely &quot;selfish&quot; members may effectively act together when competing with another community for resources. This model offers a new way to formalize the &quot;super-organism&quot; metaphor: although individual members compete against each other within a community, when seen from the outside the community interacts with its environment and with other communities much like a single organism.</p><p>This perspective blurs the distinction between two fundamental concepts: competition and genetic recombination. Competition combines two communities to produce a third where species are grouped in a new way, just as the genetic material of parents is recombined in their offspring.</p><p>Tikhonov’s model is highly simplified, but this suggests that the &quot;cohesion&quot; seen when viewing an entire community is a general consequence of ecological interactions. In addition, the model considers only competitive interactions, but in real life, species depend on each other; for example, one organism's waste is another's food. A natural next step would be to incorporate such cooperative interactions into a similar model, as cooperation is likely to make community cohesion even stronger.</p><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.002">http://dx.doi.org/10.7554/eLife.15747.002</ext-link></p></abstract><kwd-group kwd-group-type="author-keywords"><title>Author Keywords</title><kwd>microbial ecology</kwd><kwd>consortia</kwd><kwd>cooperation</kwd><kwd>resource competition</kwd><kwd>niche construction</kwd></kwd-group><kwd-group kwd-group-type="research-organism"><title>Research Organism</title><kwd>None</kwd></kwd-group><funding-group><award-group id="par-1"><funding-source><institution-wrap><institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/100000893</institution-id><institution>Simons Foundation</institution></institution-wrap></funding-source><principal-award-recipient><name><surname>Tikhonov</surname><given-names>Mikhail</given-names></name></principal-award-recipient></award-group><award-group id="par-2"><funding-source><institution-wrap><institution>Harvard Center of Mathematical Sciences and Applications</institution></institution-wrap></funding-source><principal-award-recipient><name><surname>Tikhonov</surname><given-names>Mikhail</given-names></name></principal-award-recipient></award-group><funding-statement>The funders had no role in study design, data collection and interpretation, or the decision to submit the work for publication.</funding-statement></funding-group><custom-meta-group><custom-meta><meta-name>elife-xml-version</meta-name><meta-value>2.5</meta-value></custom-meta><custom-meta specific-use="meta-only"><meta-name>Author impact statement</meta-name><meta-value>A model of purely competitive ecological dynamics is shown to be equivalent to adaptive evolution of a single individual, suggesting a new way to formalize the &quot;superorganism&quot; metaphor.</meta-value></custom-meta></custom-meta-group></article-meta></front><body><sec id="s1" sec-type="intro"><title>Introduction</title><p>Over the last decade, the sequencing-driven revolution in microbial ecology unveiled the staggering complexity of microbial communities that shape the health of our planet, and our own (<xref ref-type="bibr" rid="bib8">Caporaso et al., 2011</xref>; <xref ref-type="bibr" rid="bib23">Lozupone et al., 2012</xref>; <xref ref-type="bibr" rid="bib17">Human Microbiome Project Consortium, 2012</xref>; <xref ref-type="bibr" rid="bib13">Gilbert et al., 2014</xref>). These ecosystems routinely harbor hundreds of species of microorganisms, the vast majority of which remain poorly characterized. This makes the bottom-up approach to their modeling extremely challenging (<xref ref-type="bibr" rid="bib14">Greenblum et al., 2013</xref>; <xref ref-type="bibr" rid="bib6">Bucci and Xavier, 2014</xref>; <xref ref-type="bibr" rid="bib18">Ji and Nielsen, 2015</xref>), prompting the question of whether some effective, top-down theory of the community as a whole might be a more viable alternative (<xref ref-type="bibr" rid="bib10">Doolittle and Zhaxybayeva, 2010</xref>; <xref ref-type="bibr" rid="bib5">Borenstein, 2012</xref>; <xref ref-type="bibr" rid="bib14">Greenblum et al., 2013</xref>; <xref ref-type="bibr" rid="bib6">Bucci and Xavier, 2014</xref>).</p><p>The need for a top-down approach is highlighted by multiple experimental observations. The microscopic species-level composition of independently assembled communities is highly variable even in similar environments; in contrast, the community metagenome (pathways carried by the population as a whole) appears to be more stable (<xref ref-type="bibr" rid="bib17">Human Microbiome Project Consortium, 2012</xref>). Studies of obesity or inflammatory bowel disease indicate that these conditions are unlikely to be caused by specific 'pathogenic species' (<xref ref-type="bibr" rid="bib26">Major and Spiller, 2014</xref>; <xref ref-type="bibr" rid="bib27">Mathur and Barlow, 2015</xref>); similarly, the healthy human microbiota exhibits no core set of 'healthy' microorganisms (<xref ref-type="bibr" rid="bib17">Human Microbiome Project Consortium, 2012</xref>). Thus, the 'healthy' and 'diseased' states of human-associated microbiota appear to be community-level phenotypic labels that may not always be traceable to specific community members.</p><p>Remarkably, the behavior of such macroscopically defined states can be productively studied even as the microscopic details remain unclear: thus, studies report on 'lean microbiota' outcompeting 'obese microbiota' in mice (<xref ref-type="bibr" rid="bib37">Ridaura et al., 2013</xref>), or on the efficacy of fecal matter transplant in treating <italic>Clostridium difficile</italic> infections, whereby a 'healthy' community overtakes the 'diseased' state (<xref ref-type="bibr" rid="bib3">Bakken et al., 2011</xref>). Both examples can be conceptualized as community-level competition events, termed 'community coalescence'. Although poorly understood, such events are widespread in natural microbial ecosystems and likely play a major role shaping their structure (<xref ref-type="bibr" rid="bib38">Rillig et al., 2015</xref>). Intriguingly, Rillig <italic>et al.</italic> argue that coalescing communities often appear to be “interacting as internally integrated units rather than as a collection of species that suddenly interact with another collection of species” (<xref ref-type="bibr" rid="bib38">Rillig et al., 2015</xref>).</p><p>Although comparing a community to a functionally integrated 'superorganism' is a recurring metaphor (<xref ref-type="bibr" rid="bib42">Shapiro, 1998</xref>; <xref ref-type="bibr" rid="bib45">West et al., 2006</xref>), a well-established body of theory cautions against using such terms loosely (<xref ref-type="bibr" rid="bib11">Gardner and Grafen, 2009</xref>). The formal criteria under which a group of organisms can be considered a 'multicellular whole' have been extensively discussed in the context of multi-level selection theory (MLS) (<xref ref-type="bibr" rid="bib34">Okasha, 2008</xref>). At the very least, the established notions of group-level individuality and 'organismality' crucially rely on cooperative traits of group members (<xref ref-type="bibr" rid="bib7">Buss, 1987</xref>; <xref ref-type="bibr" rid="bib31">Michod, 1999</xref>; <xref ref-type="bibr" rid="bib32">Michod and Nedelcu, 2003</xref>). As a result, the formal applicability of the 'superorganism' perspective appears to be severely restricted, as pervasive cooperation between members must first be demonstrated. In particular, the microbiota inhabiting the human gut is extremely unlikely to satisfy such criteria.</p><p>However, the utility of a macroscopic community-level perspective, and its ability to predict the outcome of competition between communities, need not hinge on whether they constitute a valid level of selection in the strict sense of MLS. It is well known that performance of a species is dependent on community context (<xref ref-type="bibr" rid="bib9">Davis et al., 1998</xref>; <xref ref-type="bibr" rid="bib28">McGill et al., 2006</xref>; <xref ref-type="bibr" rid="bib29">McIntire and Fajardo, 2014</xref>): for example, niche-packed communities (<xref ref-type="bibr" rid="bib25">MacArthur, 1969</xref>; <xref ref-type="bibr" rid="bib40">Roughgarden, 1976</xref>) are more resistant to invasion (<xref ref-type="bibr" rid="bib21">Levine and D’Antonio, 1999</xref>). Building on these ideas, the present work extends the classical model of MacArthur (<xref ref-type="bibr" rid="bib25">MacArthur, 1969</xref>) to construct a simple adaptive dynamics framework that describes co-evolution in multi-species communities (<xref ref-type="bibr" rid="bib40">Roughgarden, 1976</xref>; <xref ref-type="bibr" rid="bib12">Geritz et al., 1998</xref>; <xref ref-type="bibr" rid="bib33">Nurmi and Parvinen, 2008</xref>) and allows investigating the phenomenon of 'community coalescence' in a minimal theoretical setting. The central result is a mathematically precise analogy established between a community whose members can change in abundance and an individual organism whose pathways can modulate in expression. This analogy concerns the manner in which a community interacts with its environment and with other communities; it does not investigate reproduction, and so does not constitute multicellularity in the established sense of the term (<xref ref-type="bibr" rid="bib34">Okasha, 2008</xref>). Rather than being a limitation, this expands the potential applicability of the top-down perspective advocated here. While the criteria of 'true multicellularity' are too stringent to apply to most natural communities, the phenomenon described in this work is a generic consequence of ecological interactions in a diverse ecosystem and requires no cooperative behavior or 'altruism' (<xref ref-type="bibr" rid="bib11">Gardner and Grafen, 2009</xref>).</p></sec><sec id="s2" sec-type="methods"><title>Methods</title><sec id="s2-1"><title>The metagenome partitioning model</title><p>To investigate community coalescence in the simplest theoretical setting, consider the following model for resource competition in a diverse community. It is closely related to MacArthur’s model of competitive coexistence on multiple resources (<xref ref-type="bibr" rid="bib25">MacArthur, 1969</xref>); see <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section A.</p><p>Consider a community in a habitat where a single limiting resource exists in <inline-formula><mml:math id="inf1"><mml:mi>N</mml:mi></mml:math></inline-formula> forms ('substrates' <inline-formula><mml:math id="inf2"><mml:mrow><mml:mi>i</mml:mi><mml:mo>∈</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:mrow id="XM3"><mml:mn>1</mml:mn><mml:mo>⁢</mml:mo><mml:mi mathvariant="normal">…</mml:mi><mml:mo>⁢</mml:mo><mml:mi>N</mml:mi></mml:mrow><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>) denoted <inline-formula><mml:math id="inf3"><mml:mi>A</mml:mi></mml:math></inline-formula>, <inline-formula><mml:math id="inf4"><mml:mi>B</mml:mi></mml:math></inline-formula>, etc. For example, this could be carbon-limited growth in an environment with <inline-formula><mml:math id="inf5"><mml:mi>N</mml:mi></mml:math></inline-formula> carbon sources, or a community limited by availability of electron acceptors in an environment with <inline-formula><mml:math id="inf6"><mml:mi>N</mml:mi></mml:math></inline-formula> oxidants. The substrates can be utilized with 'pathways' <inline-formula><mml:math id="inf7"><mml:mi>i</mml:mi></mml:math></inline-formula> (one specialized pathway per substrate). A species is defined by the pathways that it carries (similar, for example, to the approach of <xref ref-type="bibr" rid="bib20">Levin et al., 1990</xref>). There is a total of <inline-formula><mml:math id="inf8"><mml:mrow><mml:msup><mml:mn>2</mml:mn><mml:mi>N</mml:mi></mml:msup><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:math></inline-formula> possible species in this model; they will be denoted using a binary vector indicating pathway presence/absence <inline-formula><mml:math id="inf9"><mml:mrow><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo>≡</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM4"><mml:mi>σ</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:mn id="XM5">1</mml:mn><mml:mo>,</mml:mo><mml:mn id="XM6">1</mml:mn><mml:mo>,</mml:mo><mml:mn id="XM7">0</mml:mn><mml:mo>,</mml:mo><mml:mn id="XM8">1</mml:mn><mml:mo>,</mml:mo><mml:mi id="XM9" mathvariant="normal">…</mml:mi><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, or by a string listing all substrates they can use, e.g. 'species <inline-formula><mml:math id="inf10"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi><mml:mo>⁢</mml:mo><mml:mi>D</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>' (the underline distinguishes specialist organisms such as <inline-formula><mml:math id="inf11"><mml:munder accentunder="true"><mml:mi>A</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> from the substrate they consume, in this case <inline-formula><mml:math id="inf12"><mml:mi>A</mml:mi></mml:math></inline-formula>). Let <inline-formula><mml:math id="inf13"><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> be the total abundance of species <inline-formula><mml:math id="inf14"><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> in the community, and let <inline-formula><mml:math id="inf15"><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula> be the total number of individuals capable of utilizing substrate <inline-formula><mml:math id="inf16"><mml:mi>i</mml:mi></mml:math></inline-formula> (<xref ref-type="fig" rid="fig1">Figure 1</xref>):<disp-formula id="equ1"><mml:math id="m1"><mml:mrow><mml:mrow><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>≡</mml:mo><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:munder><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>σ</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula><fig id="fig1" position="float"><object-id pub-id-type="doi">10.7554/eLife.15747.003</object-id><label>Figure 1.</label><caption><title>The metagenome partitioning model.</title><p>Organisms are defined by the pathways they carry. The benefit from each substrate is equally partitioned among all organisms who can use it, and population growth/death of each species is determined by the resource surplus it experiences.</p><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.003">http://dx.doi.org/10.7554/eLife.15747.003</ext-link></p></caption><graphic mime-subtype="x-tiff" mimetype="image" xlink:href="elife-15747-fig1-v2"/></fig></p><p>Assume a well-mixed environment, so that each of these <inline-formula><mml:math id="inf17"><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula> individuals gets an equal share <inline-formula><mml:math id="inf18"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> of the total benefit <inline-formula><mml:math id="inf19"><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula> (carbon content, oxidation power; etc.) available from substrate <inline-formula><mml:math id="inf20"><mml:mi>i</mml:mi></mml:math></inline-formula> ('scramble competition'). Any one substrate is capable of sustaining growth, but accessing multiple cumulates the benefits. The population growth/death rate of species <inline-formula><mml:math id="inf21"><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> will be determined by the <italic>resource surplus</italic> <inline-formula><mml:math id="inf22"><mml:mi mathvariant="normal">Δ</mml:mi></mml:math></inline-formula> experienced by each of its individuals:<disp-formula id="equ2"><label>(1)</label><mml:math id="m2"><mml:mrow><mml:mrow><mml:msub><mml:mi mathvariant="normal">Δ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:munder><mml:mrow><mml:msub><mml:mi>σ</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>⁢</mml:mo><mml:mfrac><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mfrac></mml:mrow></mml:mrow><mml:mo>-</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula></p><p>Here, the first term is the benefit harvested by all carried pathways, and the second represents the maintenance costs of organism <inline-formula><mml:math id="inf23"><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula>. These costs summarize all the biochemistry that makes different species more or less efficient at processing their resources. For simplicity, let these costs be random:<disp-formula id="equ3"><label>(2)</label><mml:math id="m3"><mml:mrow><mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">|</mml:mo><mml:mover accent="true" id="XM11"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mrow id="XM12"><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:mrow><mml:mpadded width="+1.7pt"><mml:mi>ϵ</mml:mi></mml:mpadded><mml:mo>⁢</mml:mo><mml:msub><mml:mi>ξ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula></p><p>Here, <inline-formula><mml:math id="inf24"><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:math></inline-formula> is a constant (the average cost per pathway), <inline-formula><mml:math id="inf25"><mml:msub><mml:mi>ξ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> is a random variable chosen once for each species and drawn out of the standard normal distribution (truncated to ensure <inline-formula><mml:math id="inf26"><mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:math></inline-formula>), the 'cost scatter' <inline-formula><mml:math id="inf27"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> sets the magnitude of cost fluctuations, and <inline-formula><mml:math id="inf28"><mml:mrow><mml:mrow><mml:mo stretchy="false">|</mml:mo><mml:mover accent="true" id="XM13"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:mo>≡</mml:mo><mml:mrow><mml:msub><mml:mo largeop="true" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:msub><mml:msub><mml:mi>σ</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> is the number of pathways carried by the species: expressing more pathways incurs a higher cost (in this simple model, carrying and expressing a pathway is synonymous). The cost function (2) ensures that neither specialists nor generalists are systematically favored in competition (see below).</p><p>The resource surplus <inline-formula><mml:math id="inf29"><mml:msub><mml:mi mathvariant="normal">Δ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> is used to generate biomass. The simplest approach is to equate the biomass of an organism with its cost, so that the total biomass of a species is <inline-formula><mml:math id="inf30"><mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:math></inline-formula>, and the dynamics of the model is given by:<disp-formula id="equ4"><label>(3)</label><mml:math id="m4"><mml:mrow><mml:mrow><mml:mrow><mml:mpadded width="+1.7pt"><mml:msub><mml:mi>τ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mpadded><mml:mo>⁢</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>⁢</mml:mo><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:msub><mml:mi>g</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM17"><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow><mml:mo>≡</mml:mo><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi mathvariant="normal">Δ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula></p><p>The constants <inline-formula><mml:math id="inf31"><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf32"><mml:msub><mml:mi>τ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:math></inline-formula> set the units of resource and time. It is worth noting that a different choice for the biomass of each species would only change transient dynamics, but not the outcome of their competition: the equilibrium state where <inline-formula><mml:math id="inf33"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:math></inline-formula> (see <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section B).</p><p>The approach taken here purposefully ignores multiple factors, most notably trophic interactions or any other form of organism inter-dependence. This is intentional: it ensures that the interaction matrix<disp-formula id="equ5"><mml:math id="m5"><mml:mrow><mml:msub><mml:mi>M</mml:mi><mml:mrow><mml:mi>a</mml:mi><mml:mo>⁢</mml:mo><mml:mi>b</mml:mi></mml:mrow></mml:msub><mml:mo>≡</mml:mo><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:mo>⁡</mml:mo><mml:msub><mml:mi>g</mml:mi><mml:msub><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mi>a</mml:mi></mml:msub></mml:msub></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:mo>⁡</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:msub><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mi>b</mml:mi></mml:msub></mml:msub></mml:mrow></mml:mfrac></mml:mrow></mml:math></disp-formula></p><p>has no positive terms, that is, the setting is purely competitive (indices <inline-formula><mml:math id="inf34"><mml:mi>a</mml:mi></mml:math></inline-formula>, <inline-formula><mml:math id="inf35"><mml:mi>b</mml:mi></mml:math></inline-formula> label species, and <inline-formula><mml:math id="inf36"><mml:msub><mml:mi>g</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> is defined as the right-hand side of <xref ref-type="disp-formula" rid="equ4">Equation 3</xref>). This helps underline that the whole-community behavior exhibited below is a generic consequence of resource partitioning, and requires no explicitly cooperative interactions.</p><p>Other simplifications include the assumption of deterministic dynamics and a well-mixed environment. Although stochasticity and spatial structure are tremendously important in most contexts, the simplified model adopted here provides a convenient starting point and makes the problem tractable analytically.</p><p>This work will investigate coalescence of communities that originate and remain in similar environments, for example, transfer of oral communities by kissing (<xref ref-type="bibr" rid="bib19">Kort et al., 2014</xref>) as opposed to invasion of microbes from the mouth into the gut (<xref ref-type="bibr" rid="bib35">Qin et al., 2014</xref>). Imagine a collection of islands (or patches) labeled by <inline-formula><mml:math id="inf37"><mml:mi>α</mml:mi></mml:math></inline-formula>, each harboring a community <inline-formula><mml:math id="inf38"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:math></inline-formula> experiencing the same environment. The next section investigates the within-island dynamics (3) to establish some key properties that make this simplified model particularly convenient for our purposes. Specifically, let <inline-formula><mml:math id="inf39"><mml:mrow><mml:mi mathvariant="normal">Ω</mml:mi><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi class="ltx_font_mathcaligraphic" id="XM19">𝒞</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> denote the set of species present at non-zero abundance in a community <inline-formula><mml:math id="inf40"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi></mml:math></inline-formula>. It will be shown that under the dynamics (3), any community <inline-formula><mml:math id="inf41"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi></mml:math></inline-formula> will eventually converge to a stable equilibrium, uniquely determined by the set <inline-formula><mml:math id="inf42"><mml:mrow><mml:mi mathvariant="normal">Ω</mml:mi><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi class="ltx_font_mathcaligraphic" id="XM20">𝒞</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>. At this equilibrium, certain species establish at a non-zero abundance, while others 'go extinct', exponentially decreasing towards zero. Importantly, the set of survivors will depend only on the identity of the initially present species, and not on their initial abundance. Thus a community <inline-formula><mml:math id="inf43"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:math></inline-formula> coalescing with <inline-formula><mml:math id="inf44"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>2</mml:mn></mml:msub></mml:math></inline-formula> will yield the same community <inline-formula><mml:math id="inf45"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mo>*</mml:mo></mml:msub></mml:math></inline-formula> irrespective of the initial mixing ratios. While obviously a simplification, this makes the metagenome partitioning model an especially convenient starting point to build theoretical intuition about community-community interactions before more general situations can be studied, for example, numerically.</p><p>These properties are established in the next section; the following section then turns to the main subject of this work, namely coalescence events between islands.</p></sec><sec id="s2-2"><title>Single-island adaptive dynamics: intrinsic species performance and a community-level objective function</title><p>Consider <inline-formula><mml:math id="inf46"><mml:mrow><mml:mi>N</mml:mi><mml:mo>=</mml:mo><mml:mn>10</mml:mn></mml:mrow></mml:math></inline-formula> equiabundant substrates, and one random realization of organism costs with scatter <inline-formula><mml:math id="inf47"><mml:mrow><mml:mi>ϵ</mml:mi><mml:mo>=</mml:mo><mml:msup><mml:mn>10</mml:mn><mml:mrow><mml:mo>-</mml:mo><mml:mn>3</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:math></inline-formula>. (MATLAB scripts (MATLAB, Inc.) performing simulations and reproducing all figures are available as <xref ref-type="supplementary-material" rid="SD2-data">Supplementary file 2</xref>). The numerical simulation of competition between all 1023 possible species, initialized at equal abundance, results in the equilibrium state depicted in <xref ref-type="fig" rid="fig2">Figure 2A</xref>, <xref ref-type="supplementary-material" rid="SD2-data">Supplementary file 2</xref>. In this example, it consists of nine species. It is natural to ask: for a given initial set of competitors, what determines the species that survive?<fig id="fig2" position="float"><object-id pub-id-type="doi">10.7554/eLife.15747.004</object-id><label>Figure 2.</label><caption><title>The individual performance rank of a species (its cost per pathway) is predictive of its survival and abundance in a community.</title><p>(<bold>A</bold>) Community equilibrium for <inline-formula><mml:math id="inf48"><mml:mrow><mml:mi>N</mml:mi><mml:mo>=</mml:mo><mml:mn>10</mml:mn></mml:mrow></mml:math></inline-formula> substrates with abundance <inline-formula><mml:math id="inf49"><mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mrow><mml:mo>=</mml:mo><mml:mn>100</mml:mn></mml:mrow></mml:math></inline-formula> and one particular random realization of organism costs with scatter <inline-formula><mml:math id="inf50"><mml:mrow><mml:mi>ϵ</mml:mi><mml:mo>=</mml:mo><mml:msup><mml:mn>10</mml:mn><mml:mrow><mml:mo>-</mml:mo><mml:mn>3</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:math></inline-formula>. Species are ordered by abundance and labeled by the pathways they carry. Also indicated is the individual performance rank; all surviving species were within the top 30 (out of 1023). (<bold>B</bold>) The median individual performance rank of survivors, weighted (dashed) or not weighted (solid) by abundance. Curves show mean over 100 random communities for each value of cost scatter <inline-formula><mml:math id="inf51"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>; the standard deviation across 100 instances is stable at approximately 40% of the mean for both curves, independently of <inline-formula><mml:math id="inf52"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> (not shown to reduce clutter).</p><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.004">http://dx.doi.org/10.7554/eLife.15747.004</ext-link></p></caption><graphic mime-subtype="x-tiff" mimetype="image" xlink:href="elife-15747-fig2-v2"/></fig></p><p>In the present model, the only intrinsic performance characteristic of a species is its cost per pathway. Consider an assay whereby a single individual of species <inline-formula><mml:math id="inf53"><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> is placed in an environment with no other organisms present, and, for simplicity, an equal supply of all substrates <inline-formula><mml:math id="inf54"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mi>R</mml:mi></mml:mrow></mml:math></inline-formula>. The initial population growth rate in this chemostat is given by:<disp-formula id="equ6"><mml:math id="m6"><mml:mrow><mml:mrow><mml:msub><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo fence="true">|</mml:mo></mml:mrow><mml:mrow><mml:mi>t</mml:mi><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:msub><mml:mi>τ</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mfrac><mml:mo>⁢</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow id="XM22"><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:munder><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>σ</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow><mml:mo>-</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:msub><mml:mi>τ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mfrac><mml:mo>⁢</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow id="XM23"><mml:mrow><mml:mi>R</mml:mi><mml:mo>⁢</mml:mo><mml:mfrac><mml:mrow><mml:mo stretchy="false">|</mml:mo><mml:mover accent="true" id="XM21"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mfrac></mml:mrow><mml:mo>-</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mrow><mml:mo>,</mml:mo></mml:mrow></mml:math></disp-formula></p><p>and abundance eventually equilibrates at <inline-formula><mml:math id="inf55"><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mi>R</mml:mi><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">|</mml:mo><mml:mover accent="true" id="XM24"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo stretchy="false">|</mml:mo></mml:mrow></mml:mrow><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>. Both these quantities characterize performance of species <inline-formula><mml:math id="inf56"><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> (the term 'fitness' is avoided as it is a micro-evolutionary concept that, strictly speaking, should be defined only within individuals of one species), and both are determined by the inverse cost per pathway. Define the 'individual' performance measure of species <inline-formula><mml:math id="inf57"><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> as<disp-formula id="equ7"><label>(4)</label><mml:math id="m7"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>≡</mml:mo><mml:mrow><mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo>⁢</mml:mo><mml:mfrac><mml:mrow><mml:mo stretchy="false">|</mml:mo><mml:mover accent="true" id="XM25"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mfrac></mml:mrow><mml:mo>-</mml:mo><mml:mn>1.</mml:mn></mml:mrow></mml:mrow></mml:math></disp-formula></p><p>This definition is convenient as it makes <inline-formula><mml:math id="inf58"><mml:msub><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> a dimensionless quantity of order <inline-formula><mml:math id="inf59"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>. Under the cost model (2), the performance ranking of species is random, set by the random realization of the costs <inline-formula><mml:math id="inf60"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mi>ξ</mml:mi></mml:mrow></mml:mstyle></mml:math></inline-formula>: <inline-formula><mml:math id="inf61"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mrow><mml:mover><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:mi>ϵ</mml:mi><mml:msub><mml:mi>ξ</mml:mi><mml:mrow><mml:mrow><mml:mover><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>−</mml:mo><mml:mn>1</mml:mn><mml:mo>≈</mml:mo><mml:mo>−</mml:mo><mml:mi>ϵ</mml:mi><mml:msub><mml:mi>ξ</mml:mi><mml:mrow><mml:mrow><mml:mover><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:mrow></mml:msub></mml:mrow></mml:mstyle></mml:math></inline-formula>. This model was chosen so that no group of species has an obvious advantage. A different cost function would effectively reduce the pool of competitors, excluding certain (prohibitively expensive) species from the start.</p><p>Predictably, this performance ranking is correlated with the success of a species in a community, but not very well (<xref ref-type="fig" rid="fig2">Figure 2</xref>). The equilibrium depicted in panel A predominantly consists of top-ranked species, and the median performance rank of surviving species is consistently low across a range of values of the cost scatter <inline-formula><mml:math id="inf62"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> (panel B). This median rank becomes even lower if the median is weighted by a species’ abundance at equilibrium, indicating that top-ranked species tend to be present at higher abundance (<xref ref-type="bibr" rid="bib9">Davis et al., 1998</xref>; <xref ref-type="bibr" rid="bib4">Birch, 1953</xref>). Still, at the equilibrium shown in <xref ref-type="fig" rid="fig2">Figure 2A</xref>, the species ranked fourth in intrinsic performance went extinct, but six others ranked as low as #29 remained present.</p><p>These observations reflect the well-known fact that the success of a species is context-dependent and observing a species in isolation does not measure its performance in the relevant environment (<xref ref-type="bibr" rid="bib28">McGill et al., 2006</xref>; <xref ref-type="bibr" rid="bib29">McIntire and Fajardo, 2014</xref>). In the model described here, the context experienced by all species is fully encoded in the vector of 'harvests', that is, the benefit an organism receives from carrying pathway <inline-formula><mml:math id="inf63"><mml:mi>i</mml:mi></mml:math></inline-formula>:<disp-formula id="equ8"><label>(5)</label><mml:math id="m8"><mml:mrow><mml:mrow><mml:msub><mml:mi>H</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>≡</mml:mo><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula></p><p>A growing demand for substrate <inline-formula><mml:math id="inf64"><mml:mi>i</mml:mi></mml:math></inline-formula> (increasing <inline-formula><mml:math id="inf65"><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula>) depletes its availability, in the sense that <inline-formula><mml:math id="inf66"><mml:msub><mml:mi>H</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula> is reduced. Consider the three-substrate world depicted in <xref ref-type="fig" rid="fig1">Figure 1</xref>, and assume that <inline-formula><mml:math id="inf67"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> is the highest-performing species with a very low cost. As <inline-formula><mml:math id="inf68"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> multiplies, it depletes resources <inline-formula><mml:math id="inf69"><mml:mi>A</mml:mi></mml:math></inline-formula> and <inline-formula><mml:math id="inf70"><mml:mi>B</mml:mi></mml:math></inline-formula>. As a result, the final equilibrium is highly likely to include the specialist organism <inline-formula><mml:math id="inf71"><mml:munder accentunder="true"><mml:mi>C</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>, even if its cost is relatively high, and under other circumstances (if <inline-formula><mml:math id="inf72"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> were less fit) it would have yielded to <inline-formula><mml:math id="inf73"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>C</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> or <inline-formula><mml:math id="inf74"><mml:munder accentunder="true"><mml:mrow><mml:mi>B</mml:mi><mml:mo>⁢</mml:mo><mml:mi>C</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>.</p><p>Conveniently, in the model described here, these complex effects studied by niche construction theory can be summarized in a single community-level objective function. The dynamics (3) possess a Lyapunov function, i.e. a quantity that is increasing on any trajectory of the system (compare to <xref ref-type="bibr" rid="bib25">MacArthur, 1969</xref>):<disp-formula id="equ9"><label>(6)</label><mml:math id="m9"><mml:mrow><mml:mrow><mml:mi>F</mml:mi><mml:mo>=</mml:mo><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:msub><mml:mi>R</mml:mi><mml:mtext>tot</mml:mtext></mml:msub></mml:mfrac><mml:mo>⁢</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow id="XM26"><mml:mrow><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:munder><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>⁢</mml:mo><mml:mrow><mml:mi>ln</mml:mi><mml:mo>⁡</mml:mo><mml:mfrac><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mrow></mml:mfrac></mml:mrow></mml:mrow></mml:mrow><mml:mo>-</mml:mo><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:munder><mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mrow></mml:mrow><mml:mo>+</mml:mo><mml:msub><mml:mi>R</mml:mi><mml:mtext>tot</mml:mtext></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula></p><p>Here, <inline-formula><mml:math id="inf75"><mml:msub><mml:mi>R</mml:mi><mml:mtext>tot</mml:mtext></mml:msub></mml:math></inline-formula> is a constant introduced for later convenience. Specifically, set <inline-formula><mml:math id="inf76"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mtext>tot</mml:mtext></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:msub><mml:mo largeop="true" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:msub><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>; this choice ensures that close to community equilibrium, <inline-formula><mml:math id="inf77"><mml:mi>F</mml:mi></mml:math></inline-formula> is also of order <inline-formula><mml:math id="inf78"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> (see <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section C). This function has the property that <inline-formula><mml:math id="inf79"><mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mtext>tot</mml:mtext></mml:msub><mml:mo>⁢</mml:mo><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:mo>⁡</mml:mo><mml:mi>F</mml:mi></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:mo>⁡</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi mathvariant="normal">Δ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:math></inline-formula> (the resource surplus), and therefore<disp-formula id="equ10"><mml:math id="m10"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:mi>F</mml:mi></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:munder><mml:mrow><mml:mfrac><mml:mrow><mml:mo>∂</mml:mo><mml:mo>⁡</mml:mo><mml:mi>F</mml:mi></mml:mrow><mml:mrow><mml:mo>∂</mml:mo><mml:mo>⁡</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow></mml:mfrac><mml:mo>⁢</mml:mo><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mo>⁢</mml:mo><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:munder><mml:mfrac><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>⁢</mml:mo><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:msub id="XM27"><mml:mi mathvariant="normal">Δ</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo>)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mrow><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mtext>tot</mml:mtext></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>τ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mrow></mml:mfrac></mml:mrow><mml:mo>&gt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:math></disp-formula></p><p>Thus, <inline-formula><mml:math id="inf80"><mml:mi>F</mml:mi></mml:math></inline-formula> is indeed monotonically increasing as the system is converging to equilibrium. To illustrate this, <xref ref-type="fig" rid="fig3">Figure 3A</xref> shows 10 trajectories of ecological dynamics for the same system as in <xref ref-type="fig" rid="fig2">Figure 2A</xref>, starting from random initial conditions (with all species present; see <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section H). Far from equilibrium, while most high-cost species are being eliminated by competitors, the mean intrinsic performance of surviving organisms and <inline-formula><mml:math id="inf81"><mml:mi>F</mml:mi></mml:math></inline-formula> increase together (<xref ref-type="fig" rid="fig3">Figure 3A</xref>, inset), confirming that intrinsic performance is a useful predictor. However, as equilibrium is approached, community-induced changes in substrate availability <inline-formula><mml:math id="inf82"><mml:msub><mml:mi>H</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula> reduce the relevance of the original performance ranking, which was measured in the 'wrong' environment; previously successful species can be driven to extinction (<xref ref-type="fig" rid="fig3">Figure 3B</xref>). The set <inline-formula><mml:math id="inf83"><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM28"><mml:mi>H</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:math></inline-formula> at equilibrium characterizes the environment the surviving species had 'carved' for themselves. The performance rank ordering will be all the more sensitive to the environment <inline-formula><mml:math id="inf84"><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM29"><mml:mi>H</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:math></inline-formula>, the smaller the scatter of intrinsic organism costs <inline-formula><mml:math id="inf85"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>. Therefore, the role of this parameter is to tune the relative magnitude of intrinsic and environment-dependent factors in determining a species’ fate. So far, <inline-formula><mml:math id="inf86"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> was fixed at <inline-formula><mml:math id="inf87"><mml:mrow><mml:msup><mml:mn>10</mml:mn><mml:mrow><mml:mo>-</mml:mo><mml:mn>3</mml:mn></mml:mrow></mml:msup><mml:mo>≈</mml:mo><mml:msup><mml:mn>2</mml:mn><mml:mrow><mml:mo>-</mml:mo><mml:mi>N</mml:mi></mml:mrow></mml:msup></mml:mrow></mml:math></inline-formula>, and <xref ref-type="fig" rid="fig2">Figure 2B</xref> shows that for small cost scatter <inline-formula><mml:math id="inf88"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>, the structure of the final equilibria does not significantly depend on this parameter (see <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section D). The large-<inline-formula><mml:math id="inf89"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> regime will be discussed later.<fig id="fig3" position="float"><object-id pub-id-type="doi">10.7554/eLife.15747.005</object-id><label>Figure 3.</label><caption><title>Community dynamics maximize a global objective function.</title><p>(<bold>A</bold>) 10 trajectories of an example system, starting from random initial conditions and converging to the equilibrium depicted in <xref ref-type="fig" rid="fig2">Figure 2A</xref>. Direction of dynamics indicated by arrows. Far from equilibrium, mean intrinsic performance of members (weighted by abundance) and the community-level function <inline-formula><mml:math id="inf90"><mml:mi>F</mml:mi></mml:math></inline-formula> increase together (inset; data aspect ratio as in the main panel). Close to equilibrium, intrinsic performance loses relevance. (<bold>B</bold>) Time traces of species’ abundance for one community trajectory (thick red line in <bold>A</bold>). Arrowheads in panels A and B indicate matching time points. Species that eventually go extinct shown in red; many enjoy transient success. (<bold>C</bold>) The complex dynamics of panel B is driven by the simple objective to efficiently deplete all substrates simultaneously, encoded in <inline-formula><mml:math id="inf91"><mml:mi>F</mml:mi></mml:math></inline-formula>. Shown is mean availability of the 10 substrates, for each trajectory of panel A.</p><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.005">http://dx.doi.org/10.7554/eLife.15747.005</ext-link></p></caption><graphic mime-subtype="x-tiff" mimetype="image" xlink:href="elife-15747-fig3-v2"/></fig></p><p>Each of the trajectories in <xref ref-type="fig" rid="fig3">Figure 3A</xref> converges to the same equilibrium (depicted in <xref ref-type="fig" rid="fig2">Figure 2A</xref>). This is because <inline-formula><mml:math id="inf92"><mml:mi>F</mml:mi></mml:math></inline-formula> is convex and bounded from above (see <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section A). Therefore, for every set of species <inline-formula><mml:math id="inf93"><mml:mi mathvariant="normal">Ω</mml:mi></mml:math></inline-formula>, any community restricted to these species will always reach the same (stable) equilibrium, corresponding to the unique maximum of <inline-formula><mml:math id="inf94"><mml:mi>F</mml:mi></mml:math></inline-formula> within the subspace where only species of <inline-formula><mml:math id="inf95"><mml:mi mathvariant="normal">Ω</mml:mi></mml:math></inline-formula> are allowed non-zero abundance. This maximum will often be at the border of this subspace, corresponding to the extinction of some species.</p><p>Under the dynamics (3), no new species can 'appear' if their original abundance was zero. Imagine, however, that on each island, a rare mutation (or migration) occasionally introduces a random new species; if it can invade, the community transitions to a new equilibrium and awaits a new mutation. This process of adaptive dynamics defines the evolution of each island, and can be seen as a mesoscopic population genetics model for a multi-species community evolving through horizontal gene transfer (loss/acquisition of whole pathways). For each island, <inline-formula><mml:math id="inf96"><mml:mi>F</mml:mi></mml:math></inline-formula> is monotonically increasing throughout its evolution. Indeed, <inline-formula><mml:math id="inf97"><mml:mi>F</mml:mi></mml:math></inline-formula> is continuous and non-singular in all <inline-formula><mml:math id="inf98"><mml:msub><mml:mi>n</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula>, so introducing an invader at a vanishingly small abundance will leave <inline-formula><mml:math id="inf99"><mml:mi>F</mml:mi></mml:math></inline-formula> unchanged, and the subsequent convergence to a new equilibrium is a valid trajectory of ecological dynamics on which <inline-formula><mml:math id="inf100"><mml:mi>F</mml:mi></mml:math></inline-formula> increases.</p><p>What is the intuitive meaning of the function <inline-formula><mml:math id="inf101"><mml:mi>F</mml:mi></mml:math></inline-formula> that is being optimized by the community? It is easy to show that <inline-formula><mml:math id="inf102"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mrow><mml:mover><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:mrow></mml:msub><mml:msub><mml:mi>χ</mml:mi><mml:mrow><mml:mrow><mml:mover><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:mrow></mml:msub><mml:msub><mml:mi>n</mml:mi><mml:mrow><mml:mrow><mml:mover><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>R</mml:mi><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mstyle></mml:math></inline-formula> at any equilibrium (total demand matches the total supply; see <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section C). Therefore, for a community at equilibrium, <inline-formula><mml:math id="inf103"><mml:mi>F</mml:mi></mml:math></inline-formula> characterizes its ability to deplete substrates:<disp-formula id="equ11"><label>(7)</label><mml:math id="m11"><mml:mrow><mml:mi>F</mml:mi><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mo>-</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mo largeop="true" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:msub><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>⁢</mml:mo><mml:mrow><mml:mi>ln</mml:mi><mml:mo>⁡</mml:mo><mml:msub><mml:mi>H</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>tot</mml:mi></mml:msub></mml:mfrac></mml:mrow><mml:mo>+</mml:mo><mml:mi>const</mml:mi></mml:mrow></mml:mrow></mml:math></disp-formula></p><p>If all substrates are equiabundant for simplicity, maximizing <inline-formula><mml:math id="inf104"><mml:mi>F</mml:mi></mml:math></inline-formula> is equivalent to minimizing <inline-formula><mml:math id="inf105"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mo movablelimits="false">∑</mml:mo><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub><mml:mi>ln</mml:mi><mml:mo>⁡</mml:mo><mml:msub><mml:mi>H</mml:mi><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mstyle></mml:math></inline-formula>. The optimization principle that appears in this model is therefore a generalization of Tilman’s <inline-formula><mml:math id="inf106"><mml:msup><mml:mi>R</mml:mi><mml:mo>*</mml:mo></mml:msup></mml:math></inline-formula> rule (<xref ref-type="bibr" rid="bib44">Tilman, 1982</xref>). In the classic form, this rule states that for a single limiting resource, the unique winning species is the one capable of depleting this resource to the lowest concentration. However, if the limiting resource can be harvested from multiple substrates, as considered here, multiple species may coexist; the winning community is the one that is most efficient at depleting all substrates simultaneously, weighted as described in <xref ref-type="disp-formula" rid="equ11">Equation (7)</xref>. This is illustrated in <xref ref-type="fig" rid="fig3">Figure 3C</xref>. While the time trajectories of individual species may be highly complex (<xref ref-type="fig" rid="fig3">Figure 3B</xref>), the net effect of these dynamics is to deplete substrate availability down to the lowest concentrations capable of sustaining a population (see also Figure S1 in <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section H).</p><p>The following sections will argue that <inline-formula><mml:math id="inf107"><mml:mi>F</mml:mi></mml:math></inline-formula> can be thought of as community-level 'fitness', but this term will not be used until justification is provided.</p></sec><sec id="s2-3"><title>The community-level function <inline-formula><mml:math id="inf108"><mml:mi>F</mml:mi></mml:math></inline-formula> predicts the outcome of community coalescence</title><p>Consider now a coalescence event whereby the equilibrium communities from two islands <inline-formula><mml:math id="inf109"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf110"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>β</mml:mi></mml:msub></mml:math></inline-formula> are brought into contact; as established above, the resulting community <inline-formula><mml:math id="inf111"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mo>*</mml:mo></mml:msub></mml:math></inline-formula> will not depend on the details of the mixing protocol. If none of the species from island <inline-formula><mml:math id="inf112"><mml:mi>β</mml:mi></mml:math></inline-formula> could invade the community <inline-formula><mml:math id="inf113"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:math></inline-formula>, then <inline-formula><mml:math id="inf114"><mml:mrow><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mo>*</mml:mo></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:mrow></mml:math></inline-formula> and the community <inline-formula><mml:math id="inf115"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:math></inline-formula> is the clear winner. In general, however, the space of competition outcomes is richer than merely one community taking over: both competitors <inline-formula><mml:math id="inf116"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:math></inline-formula>, <inline-formula><mml:math id="inf117"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>β</mml:mi></mml:msub></mml:math></inline-formula> can contribute to <inline-formula><mml:math id="inf118"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mo>*</mml:mo></mml:msub></mml:math></inline-formula>, but can be more or less successful at doing so, contributing more or fewer species. What makes a community more likely to be successful?</p><p>The community on each island <inline-formula><mml:math id="inf119"><mml:mi>α</mml:mi></mml:math></inline-formula> constructs its own environment, establishing certain levels of substrate availability <inline-formula><mml:math id="inf120"><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msubsup id="XM31"><mml:mi>H</mml:mi><mml:mi>i</mml:mi><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mi id="XM30">α</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:msubsup><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:math></inline-formula>. When species from island <inline-formula><mml:math id="inf121"><mml:mi>α</mml:mi></mml:math></inline-formula> are introduced onto island <inline-formula><mml:math id="inf122"><mml:mi>β</mml:mi></mml:math></inline-formula>, they are exposed to a random new environment, and the equilibrium environment <inline-formula><mml:math id="inf123"><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msubsup id="XM32"><mml:mi>H</mml:mi><mml:mi>i</mml:mi><mml:mo>*</mml:mo></mml:msubsup><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:math></inline-formula> that the coalescence survivors will have created for themselves will be different still. Although success of a species is environment-dependent, for a random environment, <inline-formula><mml:math id="inf124"><mml:msub><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> as defined above remains the best available performance predictor. One may therefore expect that the more successful community should be the one with more high-performance species. On the other hand, we also found that the ultimate equilibrium community that cannot be invaded by <italic>any</italic> species does not consist of species with the highest intrinsic performance, but corresponds to the global maximum of <inline-formula><mml:math id="inf125"><mml:mi>F</mml:mi></mml:math></inline-formula>. This suggests that the community-level function <inline-formula><mml:math id="inf126"><mml:mi>F</mml:mi></mml:math></inline-formula> should be the better predictor of the competition outcome. If so, it could be said to characterize the 'collective fitness' of a community (in the restricted, purely competitive, rather than reproductive, sense).</p><p>To settle the competition between these two hypotheses, the following procedure was implemented. For <inline-formula><mml:math id="inf127"><mml:mrow><mml:mi>N</mml:mi><mml:mo>=</mml:mo><mml:mn>10</mml:mn></mml:mrow></mml:math></inline-formula> substrates, and a given random realization of the cost structure <inline-formula><mml:math id="inf128"><mml:mi>ξ</mml:mi></mml:math></inline-formula> with scatter <inline-formula><mml:math id="inf129"><mml:mrow><mml:mi>ϵ</mml:mi><mml:mo>=</mml:mo><mml:msup><mml:mn>10</mml:mn><mml:mrow><mml:mo>-</mml:mo><mml:mn>3</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:math></inline-formula>, <inline-formula><mml:math id="inf130"><mml:mrow><mml:mi>M</mml:mi><mml:mo>=</mml:mo><mml:mn>50</mml:mn></mml:mrow></mml:math></inline-formula> random species were selected to allow for an exhaustive sampling of sub-communities (the results reported below do not significantly depend on this choice). This set was used to construct all <inline-formula><mml:math id="inf131"><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mstyle scriptlevel="+1"><mml:mtable columnspacing="0.4em" rowspacing="0.2ex"><mml:mtr><mml:mtd><mml:mn id="S3.p3.m5.xm1">50</mml:mn></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mn id="S3.p3.m5.xm2">4</mml:mn></mml:mtd></mml:mtr></mml:mtable></mml:mstyle><mml:mo>)</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mn>230300</mml:mn></mml:mrow></mml:math></inline-formula> possible combinations of <inline-formula><mml:math id="inf132"><mml:mrow><mml:mi>k</mml:mi><mml:mo>=</mml:mo><mml:mn>4</mml:mn></mml:mrow></mml:math></inline-formula> species, 104,006 of which constituted fully functional communities with all <inline-formula><mml:math id="inf133"><mml:mrow><mml:mi>N</mml:mi><mml:mo>=</mml:mo><mml:mn>10</mml:mn></mml:mrow></mml:math></inline-formula> pathways present; these were independently equilibrated. The putative collective fitness <inline-formula><mml:math id="inf134"><mml:mi>F</mml:mi></mml:math></inline-formula> of these communities, and the mean individual performance of their members, is shown in <xref ref-type="fig" rid="fig4">Figure 4A</xref>. This procedure puts at our disposal multiple examples of communities where the two performance measures are both high, both low, or one is high while the other is low (the quadrants highlighted in <xref ref-type="fig" rid="fig4">Figure 4A</xref>). Competing pairs of communities drawn from these pools will make it possible to determine which of the two factors, individual performance of a species <inline-formula><mml:math id="inf135"><mml:msub><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> or the collective fitness <inline-formula><mml:math id="inf136"><mml:mi>F</mml:mi></mml:math></inline-formula> of its native community, can better predict its post-coalescence survival.<fig id="fig4" position="float"><object-id pub-id-type="doi">10.7554/eLife.15747.006</object-id><label>Figure 4.</label><caption><title>Community fitness is more predictive of competition outcome than the intrinsic performance of its members.</title><p>(<bold>A</bold>) Community fitness <inline-formula><mml:math id="inf137"><mml:mi>F</mml:mi></mml:math></inline-formula> vs mean intrinsic performance <inline-formula><mml:math id="inf138"><mml:mrow><mml:mo stretchy="false">⟨</mml:mo><mml:msub id="XM63"><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mo stretchy="false">⟩</mml:mo></mml:mrow></mml:math></inline-formula> of its members, measured in units of cost scatter <inline-formula><mml:math id="inf139"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>, for 104,006 communities with four species (see text). Communities in which both characteristics are in the top or bottom 10% are highlighted. (<bold>B</bold>) Elimination assay competing quadrants I (cyan) vs III (magenta). Five hundred randomly drawn community pairs (columns) were jointly equilibrated, with up to eight species each time (rows; ordered by <inline-formula><mml:math id="inf140"><mml:msub><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula>). For each species that went extinct during equilibration, the corresponding cell in the table is colored by the species’ provenance. As expected, most eliminated species were from the less fit cyan communities (there are more cyan cells than magenta). These species also had lower <inline-formula><mml:math id="inf141"><mml:msub><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> (most colored cells are in the lower half of the table). (<bold>C</bold>) Same, competing quadrants II (blue) vs IV (red). The dominant color is now red: most eliminated species were from red communities, and went extinct despite having higher <inline-formula><mml:math id="inf142"><mml:msub><mml:mi>f</mml:mi><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub></mml:math></inline-formula> (most colored cells are in the upper half of the table). Columns ordered by dominant color. (<bold>D</bold>) Community similarity <inline-formula><mml:math id="inf143"><mml:mrow><mml:mi>S</mml:mi><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub id="XM64"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>,</mml:mo><mml:mi class="ltx_font_mathcaligraphic" id="XM65">𝒞</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> for a coalescence event depicted in the cartoon (inset), computed for <inline-formula><mml:math id="inf144"><mml:msup><mml:mn>10</mml:mn><mml:mn>4</mml:mn></mml:msup></mml:math></inline-formula> random community pairs, as a function of fitness difference between competing communities. Fitness difference scaled to the maximum of 1 so both fitness measures can be shown in same axes. Shown is binned mean (7 bins) over communities with similar fitness difference (solid line) <inline-formula><mml:math id="inf145"><mml:mrow> <mml:mo>± </mml:mo><mml:mn>1</mml:mn></mml:mrow></mml:math></inline-formula> standard deviation (shaded).</p><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.006">http://dx.doi.org/10.7554/eLife.15747.006</ext-link></p></caption><graphic mime-subtype="x-tiff" mimetype="image" xlink:href="elife-15747-fig4-v2"/></fig></p><p>To begin, consider the competition between the cyan and magenta quadrants (I and III, respectively). Communities from the magenta quadrant are predicted to be more fit, both in the collective sense and as measured by the average intrinsic performance of members. Therefore, one expects that the magenta (III) communities should, on average, be more successful in pairwise competitions. To confirm this, <xref ref-type="fig" rid="fig4">Figure 4B</xref> presents the results of an 'elimination assay' competing communities from these quadrants. Five hundred random pairs were drawn, and correspond to columns in <xref ref-type="fig" rid="fig4">Figure 4B</xref>. For each pair, species from both communities (up to 8 each time) were equilibrated together; the rows in <xref ref-type="fig" rid="fig4">Figure 4B</xref> correspond to these species, ordered by individual performance rank: high (top) to low (bottom). For each species that went extinct during equilibration, its provenance was identified (“did it come from the magenta or the cyan community?”), and the corresponding rectangle in <xref ref-type="fig" rid="fig4">Figure 4B</xref> was colored accordingly; in the rare cases when the eliminated species was originally present in both communities, it was colored yellow. The dominant color in <xref ref-type="fig" rid="fig4">Figure 4B</xref> is cyan, confirming that the cyan communities are typically less successful at contributing their members to the final equilibrium. Note also that the colored entries are predominantly located in the bottom half of the table: the eliminated species tend to also have lower intrinsic performance than their more successful competitors. This is the expected result.</p><p>Now, consider the competition between blue and red quadrants (II and IV). An elimination assay conducted in an identical manner is presented in <xref ref-type="fig" rid="fig4">Figure 4C</xref>. Now the colored entries are predominantly red and occupy the <italic>top</italic> half of the table. In other words, members of the red communities are being outcompeted despite the fact that their intrinsic performance is higher: the individual performance of a species is less predictive of its ability to survive coalescence than the collective fitness of the community of which it was part.</p><p>Finally, <inline-formula><mml:math id="inf146"><mml:msup><mml:mn>10</mml:mn><mml:mn>4</mml:mn></mml:msup></mml:math></inline-formula> random community pairs from the pool of <xref ref-type="fig" rid="fig4">Figure 4A</xref> (not restricted to any quadrant) were competed. Define community similarity for <inline-formula><mml:math id="inf147"><mml:mrow><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>≡</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM34"><mml:mi>n</mml:mi><mml:mrow><mml:mn>1</mml:mn><mml:mo>⁢</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> and <inline-formula><mml:math id="inf148"><mml:mrow><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mo>≡</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM35"><mml:mi>n</mml:mi><mml:mrow><mml:mn>2</mml:mn><mml:mo>⁢</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> as the normalized scalar product of their species abundance vectors:<disp-formula id="equ12"><mml:math id="m12"><mml:mrow><mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub id="XM36"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>,</mml:mo><mml:msub id="XM37"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mo largeop="true" symmetric="true">∑</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mrow><mml:mn>1</mml:mn><mml:mo>⁢</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mrow><mml:mn>2</mml:mn><mml:mo>⁢</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:msub></mml:mrow></mml:mrow><mml:mrow><mml:msqrt><mml:mrow><mml:msub><mml:mo largeop="true" symmetric="true">∑</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:msubsup><mml:mi>n</mml:mi><mml:mrow><mml:mn>1</mml:mn><mml:mo>⁢</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow><mml:mn>2</mml:mn></mml:msubsup></mml:mrow></mml:msqrt><mml:mo>⁢</mml:mo><mml:msqrt><mml:mrow><mml:msub><mml:mo largeop="true" symmetric="true">∑</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:msub><mml:msubsup><mml:mi>n</mml:mi><mml:mrow><mml:mn>2</mml:mn><mml:mo>⁢</mml:mo><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow><mml:mn>2</mml:mn></mml:msubsup></mml:mrow></mml:msqrt></mml:mrow></mml:mfrac></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula></p><p>For each of the <inline-formula><mml:math id="inf149"><mml:msup><mml:mn>10</mml:mn><mml:mn>4</mml:mn></mml:msup></mml:math></inline-formula> coalescence instances <inline-formula><mml:math id="inf150"><mml:mrow><mml:mrow><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>2</mml:mn></mml:msub></mml:mrow><mml:mo>↦</mml:mo><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mo>*</mml:mo></mml:msub></mml:mrow></mml:math></inline-formula>, <xref ref-type="fig" rid="fig4">Figure 4D</xref> plots the similarity <inline-formula><mml:math id="inf151"><mml:mrow><mml:msub><mml:mi>S</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>≡</mml:mo><mml:mrow><mml:mi>S</mml:mi><mml:mo>⁢</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub id="XM38"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>,</mml:mo><mml:msub id="XM39"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mo>*</mml:mo></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow></mml:mrow></mml:math></inline-formula> as a function of fitness difference between 'parent' communities <inline-formula><mml:math id="inf152"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>1</mml:mn></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf153"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mn>2</mml:mn></mml:msub></mml:math></inline-formula>. It comes as no surprise (<italic>cf.</italic> <xref ref-type="fig" rid="fig2">Figure 2</xref>) that the predictive power of the mean individual performance is extremely weak (black line). In contrast, community fitness is a strong predictor: the larger the difference in community fitness, the stronger the similarity between the post-coalescence community and its more fit parent (red line). In the mathematical framework developed here, the observation that coalescing communities appear to be 'interacting as coherent wholes' acquires a precise formulation. Without implying the emergence of any new level of selection, and without invoking any cooperative traits, we observe that community coalescence can be usefully described as an interaction between two entities, characterized macroscopically at the whole-community level.</p></sec><sec id="s2-4"><title>The 'community as an individual' metaphor becomes exact</title><p>Consider now an external observer who is denied direct microscopic access to community composition, and is able to perform only 'metagenomic' (or, rather, 'metaproteomic') experiments, measuring the community-wide pathway expression <inline-formula><mml:math id="inf154"><mml:mrow><mml:mover accent="true"><mml:mi>T</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM40"><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula> in response to substrate influx <inline-formula><mml:math id="inf155"><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:msub id="XM41"><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>.</p><p>First, consider an island <inline-formula><mml:math id="inf156"><mml:msub><mml:mi>α</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:math></inline-formula> harboring a single species: the complete generalist <inline-formula><mml:math id="inf157"><mml:mrow><mml:msub><mml:mover accent="true"><mml:mi>σ</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mi>G</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:mn id="XM42">1</mml:mn><mml:mo>,</mml:mo><mml:mrow id="XM44"><mml:mn>1</mml:mn><mml:mo>⁢</mml:mo><mml:mi mathvariant="normal">…</mml:mi><mml:mo>⁢</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>. Its abundance at equilibrium will be <inline-formula><mml:math id="inf158"><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mi>G</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mtext>tot</mml:mtext></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>. Although substrates may be supplied in varying abundance, the island <inline-formula><mml:math id="inf159"><mml:msub><mml:mi>α</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:math></inline-formula> can only express all pathways at the same level.</p><p>Another island <inline-formula><mml:math id="inf160"><mml:msub><mml:mi>α</mml:mi><mml:mi>S</mml:mi></mml:msub></mml:math></inline-formula> might harbor a community of perfect specialists: <inline-formula><mml:math id="inf161"><mml:mrow><mml:munder accentunder="true"><mml:mi>A</mml:mi><mml:mo>¯</mml:mo></mml:munder><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:mn id="XM45">1</mml:mn><mml:mo>,</mml:mo><mml:mn id="XM46">0</mml:mn><mml:mo>,</mml:mo><mml:mrow id="XM48"><mml:mn>0</mml:mn><mml:mo>⁢</mml:mo><mml:mi mathvariant="normal">…</mml:mi></mml:mrow><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, <inline-formula><mml:math id="inf162"><mml:mrow><mml:munder accentunder="true"><mml:mi>B</mml:mi><mml:mo>¯</mml:mo></mml:munder><mml:mo>=</mml:mo><mml:mrow><mml:mo stretchy="false">{</mml:mo><mml:mn id="XM49">0</mml:mn><mml:mo>,</mml:mo><mml:mn id="XM50">1</mml:mn><mml:mo>,</mml:mo><mml:mrow id="XM52"><mml:mn>0</mml:mn><mml:mo>⁢</mml:mo><mml:mi mathvariant="normal">…</mml:mi></mml:mrow><mml:mo stretchy="false">}</mml:mo></mml:mrow></mml:mrow></mml:math></inline-formula>, etc. Faced with an uneven supply of substrates, this island will adjust expression levels <inline-formula><mml:math id="inf163"><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula> to precisely track the supply vector <inline-formula><mml:math id="inf164"><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula>, so that <inline-formula><mml:math id="inf165"><mml:mrow><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>, where <inline-formula><mml:math id="inf166"><mml:msub><mml:mi>χ</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:math></inline-formula> is the cost of the respective specialist. For an external observer whose toolkit is limited to investigating the mapping <inline-formula><mml:math id="inf167"><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo>↦</mml:mo><mml:mover accent="true"><mml:mi>T</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:math></inline-formula>, the specialists’ island <inline-formula><mml:math id="inf168"><mml:msub><mml:mi>α</mml:mi><mml:mi>S</mml:mi></mml:msub></mml:math></inline-formula> is formally indistinguishable from an organism who can sense its environment and up-regulate or down-regulate individual pathways.</p><p>Such perfect regulation is, however, costly: typically, <inline-formula><mml:math id="inf169"><mml:munder accentunder="true"><mml:mi>A</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>, <inline-formula><mml:math id="inf170"><mml:munder accentunder="true"><mml:mi>B</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>, etc. will not be the most cost-efficient combinations. As a result, allowing the community to evolve while holding <inline-formula><mml:math id="inf171"><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> fixed, one will obtain a different multi-organism community <inline-formula><mml:math id="inf172"><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi></mml:math></inline-formula>. Unlike <inline-formula><mml:math id="inf173"><mml:msub><mml:mi>α</mml:mi><mml:mi>S</mml:mi></mml:msub></mml:math></inline-formula>, it will generally be unable to respond to all environmental perturbations: for example, the nine-species equilibrium community of <xref ref-type="fig" rid="fig2">Figure 2A</xref> will necessariy be insensitive to some direction in the 10-dimensional space of substrate concentrations. Our external observer will conclude that evolution in a stable environment has traded some of the sensing capacity for the ability to fit a particular substrate influx with more efficient pathway combinations.</p><p>The model presented here can therefore be reinterpreted as a model for adaptive evolution of a single organism striving to better adjust its response <inline-formula><mml:math id="inf174"><mml:mover accent="true"><mml:mi>T</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> to the environment <inline-formula><mml:math id="inf175"><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:math></inline-formula> it experiences. The model specifies how the genotype (patterns of pathway co-regulation) determines phenotype (the mapping <inline-formula><mml:math id="inf176"><mml:mrow><mml:mover accent="true"><mml:mi>R</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover><mml:mo>↦</mml:mo><mml:mover accent="true"><mml:mi>T</mml:mi><mml:mo stretchy="false">→</mml:mo></mml:mover></mml:mrow></mml:math></inline-formula>), and the competitive fitness <inline-formula><mml:math id="inf177"><mml:mi>F</mml:mi></mml:math></inline-formula>is an explicit function of both the genotype and the environment (<xref ref-type="bibr" rid="bib36">Ribeck and Lenski, 2015</xref>). To conclude this section, let us compute the community fitness <inline-formula><mml:math id="inf178"><mml:mi>F</mml:mi></mml:math></inline-formula> of the single-species generalist community <inline-formula><mml:math id="inf179"><mml:msub><mml:mi>α</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:math></inline-formula> for the case <inline-formula><mml:math id="inf180"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>≡</mml:mo><mml:mi>R</mml:mi></mml:mrow></mml:math></inline-formula>. Applying the definition (6), and using <inline-formula><mml:math id="inf181"><mml:mrow><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>n</mml:mi><mml:mi>G</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>⁢</mml:mo><mml:mi>R</mml:mi></mml:mrow><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula> one finds:<disp-formula id="equ13"><mml:math id="m13"><mml:mrow><mml:mi>F</mml:mi><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mfrac><mml:mn>1</mml:mn><mml:mrow><mml:msub><mml:mo largeop="true" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:msub><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mo>⁢</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow id="XM53"><mml:mrow><mml:munder><mml:mo largeop="true" movablelimits="false" symmetric="true">∑</mml:mo><mml:mi>i</mml:mi></mml:munder><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>⁢</mml:mo><mml:mrow><mml:mi>ln</mml:mi><mml:mo>⁡</mml:mo><mml:mfrac><mml:msub><mml:mi>T</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mrow></mml:mfrac></mml:mrow></mml:mrow></mml:mrow><mml:mo>-</mml:mo><mml:mrow><mml:msub><mml:mi>n</mml:mi><mml:mi>G</mml:mi></mml:msub><mml:mo>⁢</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>+</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mi>ln</mml:mi><mml:mo>⁡</mml:mo><mml:mfrac><mml:mrow><mml:mi>N</mml:mi><mml:mo>⁢</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mrow><mml:msub><mml:mi>χ</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:mfrac></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mi id="XM54">ln</mml:mi><mml:mo>⁡</mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:mrow id="XM55"><mml:mn>1</mml:mn><mml:mo>+</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:mrow><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow><mml:mo>≈</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:mrow></mml:math></disp-formula></p><p>where <inline-formula><mml:math id="inf182"><mml:msub><mml:mi>f</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:math></inline-formula> is the individual performance (4) of organism <inline-formula><mml:math id="inf183"><mml:msub><mml:mi>σ</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:math></inline-formula>, and the approximate equality holds because <inline-formula><mml:math id="inf184"><mml:msub><mml:mi>f</mml:mi><mml:mi>G</mml:mi></mml:msub></mml:math></inline-formula> is of order <inline-formula><mml:math id="inf185"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>, assumed small. In other words, for a single-species community, the community fitness coincides with the individual performance of that species, reinforcing the emergent parallel between a community and an individual that had evolved an internal division of labor. This interpretation is specific to the particular model explored here, but within this model, the metaphor is mathematically exact.</p></sec><sec id="s2-5"><title>Community cohesion as a generic consequence of ecological interactions</title><p>It is important to contrast the results of the previous section with the notion of 'fitness decoupling' in multi-level selection theory (MLS). In MLS, a higher level of organization is recognized when a group of cooperating organisms acquires interests that are distinct from the self-interest of its members (<xref ref-type="bibr" rid="bib34">Okasha, 2008</xref>). Here, competition always remains entirely 'selfish'. In each instance of community competition assayed in <xref ref-type="fig" rid="fig4">Figure 4</xref>, whenever some species invaded a community, it was because its fitness in <italic>that particular environment</italic> was higher than the fitness of species already present. In contrast to fitness decoupling, which requires special circumstances to evolve, the community-level cohesion described in this work is a generic consequence of the fact that organisms modify their environment, and that fitness is context-dependent (<xref ref-type="bibr" rid="bib15">Hay et al., 2004</xref>; <xref ref-type="bibr" rid="bib28">McGill et al., 2006</xref>; <xref ref-type="bibr" rid="bib29">McIntire and Fajardo, 2014</xref>; <xref ref-type="bibr" rid="bib36">Ribeck and Lenski, 2015</xref>).</p><p>The definition (4) corresponds to how we might experimentally measure fitness, by placing an organism in a 'typical' environment it is believed to experience. In the model described here, this typical environment is often an excellent approximation: for a community at equilibrium with equiabundant substrates <inline-formula><mml:math id="inf186"><mml:mrow><mml:msub><mml:mi>R</mml:mi><mml:mi>i</mml:mi></mml:msub><mml:mo>=</mml:mo><mml:mi>R</mml:mi></mml:mrow></mml:math></inline-formula>, the total community-wide expression of each pathway is roughly <inline-formula><mml:math id="inf187"><mml:mrow><mml:mi>T</mml:mi><mml:mo>≈</mml:mo><mml:mrow><mml:mi>R</mml:mi><mml:mo>/</mml:mo><mml:msub><mml:mi>χ</mml:mi><mml:mn>0</mml:mn></mml:msub></mml:mrow></mml:mrow></mml:math></inline-formula>, the same for all <inline-formula><mml:math id="inf188"><mml:mi>i</mml:mi></mml:math></inline-formula>. Nevertheless, even small deviations may be sufficient to induce substantial reordering of the relative performance rank of different species, in which case the context-dependent component of fitness can become dominant.</p><p>If this interpretation of the results of <xref ref-type="fig" rid="fig4">Figure 4</xref> is correct, then reducing the degree to which environmental perturbations affect relative fitness of individuals should lead to a tighter link between community fitness and individual species’ performance. This prediction can be tested by increasing <inline-formula><mml:math id="inf189"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>, the parameter that determines the width of the distribution of organism costs. For example, consider a community where the substrate <inline-formula><mml:math id="inf190"><mml:mi>A</mml:mi></mml:math></inline-formula> is disputed by only two organisms: <inline-formula><mml:math id="inf191"><mml:munder accentunder="true"><mml:mi>A</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> and <inline-formula><mml:math id="inf192"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>. Assume that <inline-formula><mml:math id="inf193"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:munder><mml:mi>A</mml:mi><mml:mo>_</mml:mo></mml:munder></mml:mrow></mml:msub><mml:mtext> </mml:mtext><mml:mo>&gt;</mml:mo><mml:mtext> </mml:mtext><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:munder><mml:mrow><mml:mi>A</mml:mi><mml:mi>B</mml:mi></mml:mrow><mml:mo>_</mml:mo></mml:munder></mml:mrow></mml:msub></mml:mrow></mml:mstyle></mml:math></inline-formula>, so that when substrates <inline-formula><mml:math id="inf194"><mml:mi>A</mml:mi></mml:math></inline-formula> and <inline-formula><mml:math id="inf195"><mml:mi>B</mml:mi></mml:math></inline-formula> are equally abundant, the species <inline-formula><mml:math id="inf196"><mml:munder accentunder="true"><mml:mi>A</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> displaces <inline-formula><mml:math id="inf197"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>(the resource <inline-formula><mml:math id="inf198"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:mstyle></mml:math></inline-formula> is then consumed by some other species). Reducing the availability of substrate <inline-formula><mml:math id="inf199"><mml:mi>A</mml:mi></mml:math></inline-formula> can reverse this outcome (if <inline-formula><mml:math id="inf200"><mml:mi>A</mml:mi></mml:math></inline-formula> is absent, <inline-formula><mml:math id="inf201"><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula> can still survive, but not <inline-formula><mml:math id="inf202"><mml:munder accentunder="true"><mml:mi>A</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:math></inline-formula>). However, the larger the difference in intrinsic performance <inline-formula><mml:math id="inf203"><mml:msub><mml:mi>f</mml:mi><mml:munder accentunder="true"><mml:mi>A</mml:mi><mml:mo>¯</mml:mo></mml:munder></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf204"><mml:msub><mml:mi>f</mml:mi><mml:munder accentunder="true"><mml:mrow><mml:mi>A</mml:mi><mml:mo>⁢</mml:mo><mml:mi>B</mml:mi></mml:mrow><mml:mo>¯</mml:mo></mml:munder></mml:msub></mml:math></inline-formula>, the more extreme such resource depletion would have to be. Therefore, increasing the intrinsic cost scatter <inline-formula><mml:math id="inf205"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> will reduce the relative effect that changing environment has on fitness rank ordering. <xref ref-type="fig" rid="fig5">Figure 5</xref> repeats the analysis of <xref ref-type="fig" rid="fig4">Figure 4A</xref> for <inline-formula><mml:math id="inf206"><mml:mrow><mml:mi>ϵ</mml:mi><mml:mo>=</mml:mo><mml:mn>0.1</mml:mn></mml:mrow></mml:math></inline-formula> (rather than <inline-formula><mml:math id="inf207"><mml:mrow><mml:mi>ϵ</mml:mi><mml:mo>=</mml:mo><mml:msup><mml:mn>10</mml:mn><mml:mrow><mml:mo>-</mml:mo><mml:mn>3</mml:mn></mml:mrow></mml:msup></mml:mrow></mml:math></inline-formula> used previously). As predicted, the collective fitness is now strongly associated with the performance of individuals. In fact, this is already apparent in <xref ref-type="fig" rid="fig2">Figure 2B</xref>: as <inline-formula><mml:math id="inf208"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> is increased, the median fitness rank of survivors at the final equilibrium begins to reduce. At high <inline-formula><mml:math id="inf209"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>, it is increasingly true that high collective fitness is merely a reflection of high intrinsic performance of community members. Thus, <xref ref-type="fig" rid="fig2">Figure 2B</xref> documents a transition between a largely individualistic regime (at large <inline-formula><mml:math id="inf210"><mml:mi>ϵ</mml:mi></mml:math></inline-formula>) and a regime where the genetically inhomogenous assembly of species increasingly acts 'as a whole', in the precise sense discussed in the previous section.<fig id="fig5" position="float"><object-id pub-id-type="doi">10.7554/eLife.15747.007</object-id><label>Figure 5.</label><caption><title>Cost scatter <inline-formula><mml:math id="inf211"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> tunes the magnitude of community cohesion.</title><p>Same as <xref ref-type="fig" rid="fig4">Figure 4A</xref>, for larger <inline-formula><mml:math id="inf212"><mml:mrow><mml:mi>ϵ</mml:mi><mml:mo>=</mml:mo><mml:mn>0.1</mml:mn></mml:mrow></mml:math></inline-formula>. Increasing the scatter of intrinsic costs <inline-formula><mml:math id="inf213"><mml:mi>ϵ</mml:mi></mml:math></inline-formula> reduces the relative importance of environment in determining the performance ranking of species. As a result, collective fitness of a community and the mean individual performance of its members remain strongly coupled. Defining quadrants as in <xref ref-type="fig" rid="fig4">Figure 4A</xref> leaves the blue and red quadrants empty.</p><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.007">http://dx.doi.org/10.7554/eLife.15747.007</ext-link></p></caption><graphic mime-subtype="x-tiff" mimetype="image" xlink:href="elife-15747-fig5-v2"/></fig></p></sec></sec><sec id="s3" sec-type="discussion"><title>Discussion</title><p>This work presented a theoretical framework where the analogy between a community harboring organisms at varying abundances, and an organism expressing genes at different levels, becomes an exact mathematical statement. A striking feature of this perspective is the blurred boundary between the notions of competition and genetic recombination (<xref ref-type="bibr" rid="bib43">Shapiro et al., 2012</xref>; <xref ref-type="bibr" rid="bib39">Rosen et al., 2015</xref>). Consider competition between organisms as an operation that takes two organisms and yields one:<disp-formula id="equ14"><mml:math id="m14"><mml:mrow><mml:mrow><mml:mrow><mml:mtext id="XM58">Competition:</mml:mtext><mml:mo mathvariant="italic" separator="true"> </mml:mo><mml:mrow><mml:mo stretchy="false">(</mml:mo><mml:msub id="XM56"><mml:mi class="ltx_font_mathcaligraphic">𝒪</mml:mi><mml:mn>1</mml:mn></mml:msub><mml:mo>,</mml:mo><mml:msub id="XM57"><mml:mi class="ltx_font_mathcaligraphic">𝒪</mml:mi><mml:mn>2</mml:mn></mml:msub><mml:mo stretchy="false">)</mml:mo></mml:mrow></mml:mrow><mml:mo>↦</mml:mo><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒪</mml:mi><mml:mo>*</mml:mo></mml:msub></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:math></disp-formula></p><p>Traditionally, the space of outcomes is binary: one competitor lives, one dies, and the propensity to survive competition is called fitness. When competition between communities of organisms is considered, this definition must inevitably be generalized to allow <inline-formula><mml:math id="inf214"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒪</mml:mi><mml:mo>*</mml:mo></mml:msub></mml:math></inline-formula> to be distinct from either of the original competitors. Such 'competitors', however, might be more aptly named 'parents'. In sexual reproduction, recombination allows a subset of the genes inherited from both parents to form progeny with potentially higher fitness; here, the competition between parent communities <inline-formula><mml:math id="inf215"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf216"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>β</mml:mi></mml:msub></mml:math></inline-formula> allows a subset of their members to regroup into a daughter community <inline-formula><mml:math id="inf217"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mo>*</mml:mo></mml:msub></mml:math></inline-formula> with a higher collective fitness <inline-formula><mml:math id="inf218"><mml:mi>F</mml:mi></mml:math></inline-formula>. The parallel becomes especially clear if one imagines propagules of <inline-formula><mml:math id="inf219"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>α</mml:mi></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf220"><mml:msub><mml:mi class="ltx_font_mathcaligraphic">𝒞</mml:mi><mml:mi>β</mml:mi></mml:msub></mml:math></inline-formula> co-colonizing a fresh environmental patch.</p><p>Such member regrouping can be much more flexible than the rules of sexual recombination, but reduces to the latter in the particular case of communities with clearly demarcated functional guilds (e.g., consider competition between two communities that each has one plant, one pollinator, one herbivore, one carnivore, etc.). Long before the evolution of sex, such recombination would have allowed communities with divided labor to fix evolutionary novelty more efficiently than a clonal population of generalists. Although the metaphor of a genome as an 'ecosystem of genes' is not new (<xref ref-type="bibr" rid="bib2">Avise, 2001</xref>), the framework presented here allows it to be formalized and investigated quantitatively (see also <xref ref-type="bibr" rid="bib1">Akin, 1979</xref> and <xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref> Section J).</p><p>The results in this work were derived within the simplified framework of a particular model where microscopic dynamics conveniently took the form of optimizing a community-level objective function. In general, of course, collective dynamics are almost never reducible to solving an optimization problem (<xref ref-type="bibr" rid="bib1">Akin, 1979</xref>; <xref ref-type="bibr" rid="bib16">Hofbauer and Sigmund, 1998</xref>; <xref ref-type="bibr" rid="bib30">Metz et al., 2008</xref>). However, the effective cohesion of coalescing communities described here is merely a result of environment-dependent species’ performance combined with the community shaping its own environment, a niche construction effect (<xref ref-type="bibr" rid="bib41">Scott-Phillips et al., 2014</xref>) not specific to one modeling framework. A certain parallel can also be seen with the hypothesis that niche-packed communities may be more resistant to invasion (<xref ref-type="bibr" rid="bib24">MacArthur, 1955</xref>; <xref ref-type="bibr" rid="bib21">Levine and D’Antonio, 1999</xref>). In the model at hand, the existence of a global objective function made this phenomenon particularly easy to investigate; in a more general model, it would not be possible to quantify this effect with a single number (a 'community fitness'). Nevertheless, the qualitative result may be expected to persist, so that members of a co-evolved community with a history of coalescence would tend to have higher persistence upon interaction with a 'naive' community that had never been exposed to such events, as proposed by <xref ref-type="bibr" rid="bib38">Rillig et al. (2015)</xref>. More work is required to verify the generality of this hypothesis.</p><p>The results presented here, derived in a purely competitive model, demonstrate that functional cohesion is conceptually separate from the discussions of 'altruism' and cooperation (<xref ref-type="bibr" rid="bib11">Gardner and Grafen, 2009</xref>), except to the extent described by the formula 'enemy of my enemy is my friend' (indirect facilitation [<xref ref-type="bibr" rid="bib22">Levine, 1999</xref>]). The latter can be seen as a form of cooperation (<xref ref-type="bibr" rid="bib15">Hay et al., 2004</xref>), but is a generic phenomenon and is not vulnerable to 'cheaters'.</p><p>While the criteria of 'true multicellularity' are too stringent to apply to most natural communities, the phenomenon described in this work is a generic consequence of ecological interactions in a diverse ecosystem. Many effects omitted here can be expected to further contribute to such cohesion, especially co-evolved interdependence of organisms. If whole-community coalescence events are indeed a significant factor shaping the evolutionary history of microbial consortia, then community-level cohesion of the type described here can be expected to be broadly relevant for natural ecosystems (<xref ref-type="bibr" rid="bib10">Doolittle and Zhaxybayeva, 2010</xref>).</p></sec></body><back><ack id="ack"><title>Acknowledgements</title><p>I thank Ariel Amir, Michael P. Brenner, Andy Gardner, Jeff Gore, Miriam H. Huntley, Simon A. Levin, Anne Pringle, Ned S. Wingreen and David Zwicker for helpful discussions, and anonymous referees for their comments on the early version of the manuscript. I have no competing interests. This work was supported by the Harvard Center of Mathematical Sciences and Applications, and the Simons Foundation.</p></ack><sec id="s4" sec-type="additional-information"><title>Additional information</title><fn-group content-type="competing-interest"><title>Competing interests</title><fn fn-type="conflict" id="conf1"><p>The author declares that no competing interests exist.</p></fn></fn-group><fn-group content-type="author-contribution"><title>Author contributions</title><fn fn-type="con" id="con1"><p>MT, Conception and design, Acquisition of data, Analysis and interpretation of data, Drafting or revising the article</p></fn></fn-group></sec><sec id="s5" sec-type="supplementary-material"><title>Additional files</title><supplementary-material id="SD1-data"><object-id pub-id-type="doi">10.7554/eLife.15747.008</object-id><label>Supplementary file 1.</label><caption><title>Technical details, numerical procedures, and relation to the model of MacArthur.</title><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.008">http://dx.doi.org/10.7554/eLife.15747.008</ext-link></p></caption><media mime-subtype="pdf" mimetype="application" xlink:href="elife-15747-supp1-v2.pdf"/></supplementary-material><supplementary-material id="SD2-data"><object-id pub-id-type="doi">10.7554/eLife.15747.009</object-id><label>Supplementary file 2.</label><caption><title>MatLab scripts reproducing all figures (optional data files with pre-computed simulation results included for faster figure plotting).</title><p><bold>DOI:</bold> <ext-link ext-link-type="doi" xlink:href="10.7554/eLife.15747.009">http://dx.doi.org/10.7554/eLife.15747.009</ext-link></p></caption><media mime-subtype="zip" mimetype="application" xlink:href="elife-15747-supp2-v2.zip"/></supplementary-material></sec><ref-list><title>References</title><ref id="bib1"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Akin</surname><given-names>E</given-names></name></person-group><year iso-8601-date="1979">1979</year><chapter-title>The geometry of population genetics</chapter-title><source>Book, Lecture Notes in Biomathematics</source><publisher-loc>New York</publisher-loc><publisher-name>Springer-Verlag, Berlin</publisher-name><pub-id pub-id-type="doi">10.1007/978-3-642-93128-4</pub-id></element-citation></ref><ref id="bib2"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Avise</surname><given-names>JC</given-names></name></person-group><year iso-8601-date="2001">2001</year><article-title>Evolving genomic metaphors: a new look at the language of DNA</article-title><source>Science</source><volume>294</volume><fpage>86</fpage><lpage>87</lpage><pub-id pub-id-type="doi">10.1126/science.294.5540.86</pub-id></element-citation></ref><ref id="bib3"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Bakken</surname><given-names>JS</given-names></name><name><surname>Borody</surname><given-names>T</given-names></name><name><surname>Brandt</surname><given-names>LJ</given-names></name><name><surname>Brill</surname><given-names>JV</given-names></name><name><surname>Demarco</surname><given-names>DC</given-names></name><name><surname>Franzos</surname><given-names>MA</given-names></name><name><surname>Kelly</surname><given-names>C</given-names></name><name><surname>Khoruts</surname><given-names>A</given-names></name><name><surname>Louie</surname><given-names>T</given-names></name><name><surname>Martinelli</surname><given-names>LP</given-names></name><name><surname>Moore</surname><given-names>TA</given-names></name><name><surname>Russell</surname><given-names>G</given-names></name><name><surname>Surawicz</surname><given-names>C</given-names></name><collab>Fecal Microbiota Transplantation Workgroup</collab></person-group><year iso-8601-date="2011">2011</year><article-title>Treating Clostridium difficile infection with fecal microbiota transplantation</article-title><source>Clinical Gastroenterology and Hepatology</source><volume>9</volume><fpage>1044</fpage><lpage>1049</lpage><pub-id pub-id-type="doi">10.1016/j.cgh.2011.08.014</pub-id></element-citation></ref><ref id="bib4"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Birch</surname><given-names>LC</given-names></name></person-group><year iso-8601-date="1953">1953</year><article-title>Experimental background to the study of the distribution and abundance of insects: III. The relation between innate capacity for increase and survival of different species of beetles living together on the same food</article-title><source>Evolution</source><volume>7</volume><fpage>136</fpage><lpage>144</lpage><pub-id pub-id-type="doi">10.2307/2405749</pub-id></element-citation></ref><ref id="bib5"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Borenstein</surname><given-names>E</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Computational systems biology and in silico modeling of the human microbiome</article-title><source>Briefings in Bioinformatics</source><volume>13</volume><fpage>769</fpage><lpage>780</lpage><pub-id pub-id-type="doi">10.1093/bib/bbs022</pub-id></element-citation></ref><ref id="bib6"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Bucci</surname><given-names>V</given-names></name><name><surname>Xavier</surname><given-names>JB</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Towards predictive models of the human gut microbiome</article-title><source>Journal of Molecular Biology</source><volume>426</volume><fpage>3907</fpage><lpage>3916</lpage><pub-id pub-id-type="doi">10.1016/j.jmb.2014.03.017</pub-id></element-citation></ref><ref id="bib7"><element-citation publication-type="other"><person-group person-group-type="author"><name><surname>Buss</surname><given-names>LW</given-names></name></person-group><year iso-8601-date="1987">1987</year><chapter-title>The evolution of individuality</chapter-title><publisher-loc>Princeton, NJ</publisher-loc><publisher-name>Princeton University Press</publisher-name></element-citation></ref><ref id="bib8"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Caporaso</surname><given-names>JG</given-names></name><name><surname>Lauber</surname><given-names>CL</given-names></name><name><surname>Walters</surname><given-names>WA</given-names></name><name><surname>Berg-Lyons</surname><given-names>D</given-names></name><name><surname>Lozupone</surname><given-names>CA</given-names></name><name><surname>Turnbaugh</surname><given-names>PJ</given-names></name><name><surname>Fierer</surname><given-names>N</given-names></name><name><surname>Knight</surname><given-names>R</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Global patterns of 16S rRNA diversity at a depth of millions of sequences per sample</article-title><source>Proceedings of the National Academy of Sciences of the United States of America</source><volume>108</volume><fpage>4516</fpage><lpage>4522</lpage><pub-id pub-id-type="doi">10.1073/pnas.1000080107</pub-id></element-citation></ref><ref id="bib9"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Davis</surname><given-names>AJ</given-names></name><name><surname>Lawton</surname><given-names>JH</given-names></name><name><surname>Shorrocks</surname><given-names>B</given-names></name><name><surname>Jenkinson</surname><given-names>LS</given-names></name></person-group><year iso-8601-date="1998">1998</year><article-title>Individualistic species responses invalidate simple physiological models of community dynamics under global environmental change</article-title><source>Journal of Animal Ecology</source><volume>67</volume><fpage>600</fpage><lpage>612</lpage><pub-id pub-id-type="doi">10.1046/j.1365-2656.1998.00223.x</pub-id></element-citation></ref><ref id="bib10"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Doolittle</surname><given-names>WF</given-names></name><name><surname>Zhaxybayeva</surname><given-names>O</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>Metagenomics and the units of biological organization</article-title><source>BioScience</source><volume>60</volume><fpage>102</fpage><lpage>112</lpage><pub-id pub-id-type="doi">10.1525/bio.2010.60.2.5</pub-id></element-citation></ref><ref id="bib11"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gardner</surname><given-names>A</given-names></name><name><surname>Grafen</surname><given-names>A</given-names></name></person-group><year iso-8601-date="2009">2009</year><article-title>Capturing the superorganism: a formal theory of group adaptation</article-title><source>Journal of Evolutionary Biology</source><volume>22</volume><fpage>659</fpage><lpage>671</lpage><pub-id pub-id-type="doi">10.1111/j.1420-9101.2008.01681.x</pub-id></element-citation></ref><ref id="bib12"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Geritz</surname><given-names>SAH</given-names></name><name><surname>Kisdi</surname><given-names>É.</given-names></name><name><surname>Meszéna</surname><given-names>G</given-names></name><name><surname>Metz</surname><given-names>JAJ</given-names></name></person-group><year iso-8601-date="1998">1998</year><article-title>Evolutionarily singular strategies and the adaptive growth and branching of the evolutionary tree</article-title><source>Evolutionary Ecology</source><volume>12</volume><fpage>35</fpage><lpage>57</lpage><pub-id pub-id-type="doi">10.1023/A:1006554906681</pub-id></element-citation></ref><ref id="bib13"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gilbert</surname><given-names>JA</given-names></name><name><surname>Jansson</surname><given-names>JK</given-names></name><name><surname>Knight</surname><given-names>R</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>The Earth Microbiome project: successes and aspirations</article-title><source>BMC Biology</source><volume>12</volume><elocation-id>69</elocation-id><pub-id pub-id-type="doi">10.1186/s12915-014-0069-1</pub-id></element-citation></ref><ref id="bib14"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Greenblum</surname><given-names>S</given-names></name><name><surname>Chiu</surname><given-names>HC</given-names></name><name><surname>Levy</surname><given-names>R</given-names></name><name><surname>Carr</surname><given-names>R</given-names></name><name><surname>Borenstein</surname><given-names>E</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Towards a predictive systems-level model of the human microbiome: progress, challenges, and opportunities</article-title><source>Current Opinion in Biotechnology</source><volume>24</volume><fpage>810</fpage><lpage>820</lpage><pub-id pub-id-type="doi">10.1016/j.copbio.2013.04.001</pub-id></element-citation></ref><ref id="bib15"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hay</surname><given-names>ME</given-names></name><name><surname>Parker</surname><given-names>JD</given-names></name><name><surname>Burkepile</surname><given-names>DE</given-names></name><name><surname>Caudill</surname><given-names>CC</given-names></name><name><surname>Wilson</surname><given-names>AE</given-names></name><name><surname>Hallinan</surname><given-names>ZP</given-names></name><name><surname>Chequer</surname><given-names>AD</given-names></name></person-group><year iso-8601-date="2004">2004</year><article-title>Mutualisms and aquatic community structure: The enemy of my enemy is my friend</article-title><source>Annual Review of Ecology, Evolution, and Systematics</source><volume>35</volume><fpage>175</fpage><lpage>197</lpage><pub-id pub-id-type="doi">10.1146/annurev.ecolsys.34.011802.132357</pub-id></element-citation></ref><ref id="bib16"><element-citation publication-type="other"><person-group person-group-type="author"><name><surname>Hofbauer</surname><given-names>J</given-names></name><name><surname>Sigmund</surname><given-names>K</given-names></name></person-group><year iso-8601-date="1998">1998</year><chapter-title>Evolutionary games and population dynamics</chapter-title><publisher-loc>Cambridge, NY</publisher-loc><publisher-name>Cambridge University Press</publisher-name></element-citation></ref><ref id="bib17"><element-citation publication-type="journal"><person-group person-group-type="author"><collab>Human Microbiome Project Consortium</collab></person-group><year iso-8601-date="2012">2012</year><article-title>Structure, function and diversity of the healthy human microbiome</article-title><source>Nature</source><volume>486</volume><fpage>207</fpage><lpage>214</lpage><pub-id pub-id-type="doi">10.1038/nature11234</pub-id></element-citation></ref><ref id="bib18"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ji</surname><given-names>B</given-names></name><name><surname>Nielsen</surname><given-names>J</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>From next-generation sequencing to systematic modeling of the gut microbiome</article-title><source>Frontiers in Genetics</source><volume>6</volume><fpage>219</fpage><pub-id pub-id-type="doi">10.3389/fgene.2015.00219</pub-id></element-citation></ref><ref id="bib19"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kort</surname><given-names>R</given-names></name><name><surname>Caspers</surname><given-names>M</given-names></name><name><surname>van de Graaf</surname><given-names>A</given-names></name><name><surname>van Egmond</surname><given-names>W</given-names></name><name><surname>Keijser</surname><given-names>B</given-names></name><name><surname>Roeselers</surname><given-names>G</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Shaping the oral microbiota through intimate kissing</article-title><source>Microbiome</source><volume>2</volume><fpage>41</fpage><pub-id pub-id-type="doi">10.1186/2049-2618-2-41</pub-id></element-citation></ref><ref id="bib20"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Levin</surname><given-names>SA</given-names></name><name><surname>Segel</surname><given-names>LA</given-names></name><name><surname>Adler</surname><given-names>FR</given-names></name></person-group><year iso-8601-date="1990">1990</year><article-title>Diffuse coevolution in plant-herbivore communities</article-title><source>Theoretical Population Biology</source><volume>37</volume><fpage>171</fpage><lpage>191</lpage><pub-id pub-id-type="doi">10.1016/0040-5809(90)90034-S</pub-id></element-citation></ref><ref id="bib21"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Levine</surname><given-names>JM</given-names></name><name><surname>D'Antonio</surname><given-names>CM</given-names></name></person-group><year iso-8601-date="1999">1999</year><article-title>Elton revisited: a review of evidence linking diversity and invasibility</article-title><source>Oikos</source><volume>87</volume><fpage>15</fpage><lpage>26</lpage><pub-id pub-id-type="doi">10.2307/3546992</pub-id></element-citation></ref><ref id="bib22"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Levine</surname><given-names>JM</given-names></name></person-group><year iso-8601-date="1999">1999</year><article-title>Indirect facilitation: Evidence and predictions from a riparian community</article-title><source>Ecology</source><volume>80</volume><fpage>1762</fpage><lpage>1769</lpage><pub-id pub-id-type="doi">10.1890/0012-9658(1999)080[1762:IFEAPF]2.0.CO;2</pub-id></element-citation></ref><ref id="bib23"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lozupone</surname><given-names>CA</given-names></name><name><surname>Stombaugh</surname><given-names>JI</given-names></name><name><surname>Gordon</surname><given-names>JI</given-names></name><name><surname>Jansson</surname><given-names>JK</given-names></name><name><surname>Knight</surname><given-names>R</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Diversity, stability and resilience of the human gut microbiota</article-title><source>Nature</source><volume>489</volume><fpage>220</fpage><lpage>230</lpage><pub-id pub-id-type="doi">10.1038/nature11550</pub-id></element-citation></ref><ref id="bib24"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>MacArthur</surname><given-names>R</given-names></name></person-group><year iso-8601-date="1955">1955</year><article-title>Fluctuations of animal populations and a measure of community stability</article-title><source>Ecology</source><volume>36</volume><fpage>533</fpage><lpage>536</lpage><pub-id pub-id-type="doi">10.2307/1929601</pub-id></element-citation></ref><ref id="bib25"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>MacArthur</surname><given-names>RM</given-names></name></person-group><year iso-8601-date="1969">1969</year><article-title>Species packing, and what competition minimizes</article-title><source>Proceedings of the National Academy of Sciences of the United States of America</source><volume>64</volume><fpage>1369</fpage><lpage>1371</lpage><pub-id pub-id-type="doi">10.1073/pnas.64.4.1369</pub-id></element-citation></ref><ref id="bib26"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Major</surname><given-names>G</given-names></name><name><surname>Spiller</surname><given-names>R</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Irritable bowel syndrome, inflammatory bowel disease and the microbiome</article-title><source>Current Opinion in Endocrinology, Diabetes, and Obesity</source><volume>21</volume><fpage>15</fpage><lpage>21</lpage><pub-id pub-id-type="doi">10.1097/MED.0000000000000032</pub-id></element-citation></ref><ref id="bib27"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Mathur</surname><given-names>R</given-names></name><name><surname>Barlow</surname><given-names>GM</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Obesity and the microbiome</article-title><source>Expert Review of Gastroenterology &amp; Hepatology</source><volume>9</volume><fpage>1087</fpage><lpage>1099</lpage><pub-id pub-id-type="doi">10.1586/17474124.2015.1051029</pub-id></element-citation></ref><ref id="bib28"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>McGill</surname><given-names>BJ</given-names></name><name><surname>Enquist</surname><given-names>BJ</given-names></name><name><surname>Weiher</surname><given-names>E</given-names></name><name><surname>Westoby</surname><given-names>M</given-names></name></person-group><year iso-8601-date="2006">2006</year><article-title>Rebuilding community ecology from functional traits</article-title><source>Trends in Ecology &amp; Evolution</source><volume>21</volume><fpage>178</fpage><lpage>185</lpage><pub-id pub-id-type="doi">10.1016/j.tree.2006.02.002</pub-id></element-citation></ref><ref id="bib29"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>McIntire</surname><given-names>EJ</given-names></name><name><surname>Fajardo</surname><given-names>A</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Facilitation as a ubiquitous driver of biodiversity</article-title><source>The New Phytologist</source><volume>201</volume><fpage>403</fpage><lpage>416</lpage><pub-id pub-id-type="doi">10.1111/nph.12478</pub-id></element-citation></ref><ref id="bib30"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Metz</surname><given-names>JAJ</given-names></name><name><surname>Mylius</surname><given-names>SD</given-names></name><name><surname>Diekmann</surname><given-names>O</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>When does evolution optimize?</article-title><source>Evolutionary Ecology Research</source><volume>10</volume><fpage>629</fpage><lpage>654</lpage></element-citation></ref><ref id="bib31"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Michod</surname><given-names>RE</given-names></name></person-group><year iso-8601-date="1999">1999</year><source>Darwinian Dynamics : Evolutionary Transitions in Fitness and Individuality</source><publisher-loc>Princeton, NJ</publisher-loc><publisher-name>Princeton University Press</publisher-name><pub-id pub-id-type="doi">10.5860/CHOICE.37-0302</pub-id></element-citation></ref><ref id="bib32"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Michod</surname><given-names>RE</given-names></name><name><surname>Nedelcu</surname><given-names>AM</given-names></name></person-group><year iso-8601-date="2003">2003</year><article-title>On the reorganization of fitness during evolutionary transitions in individuality</article-title><source>Integrative and Comparative Biology</source><volume>43</volume><fpage>64</fpage><lpage>73</lpage><pub-id pub-id-type="doi">10.1093/icb/43.1.64</pub-id></element-citation></ref><ref id="bib33"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nurmi</surname><given-names>T</given-names></name><name><surname>Parvinen</surname><given-names>K</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>On the evolution of specialization with a mechanistic underpinning in structured metapopulations</article-title><source>Theoretical Population Biology</source><volume>73</volume><fpage>222</fpage><lpage>243</lpage><pub-id pub-id-type="doi">10.1016/j.tpb.2007.12.002</pub-id></element-citation></ref><ref id="bib34"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Okasha</surname><given-names>S</given-names></name></person-group><year iso-8601-date="2008">2008</year><chapter-title>Evolution and the levels of selection</chapter-title><source>Clarendon Press</source><publisher-loc>New York</publisher-loc><publisher-name>Oxford University Press, Oxford</publisher-name><pub-id pub-id-type="doi">10.1093/acprof:oso/9780199267972.001.0001</pub-id></element-citation></ref><ref id="bib35"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Qin</surname><given-names>N</given-names></name><name><surname>Yang</surname><given-names>F</given-names></name><name><surname>Li</surname><given-names>A</given-names></name><name><surname>Prifti</surname><given-names>E</given-names></name><name><surname>Chen</surname><given-names>Y</given-names></name><name><surname>Shao</surname><given-names>L</given-names></name><name><surname>Guo</surname><given-names>J</given-names></name><name><surname>Le Chatelier</surname><given-names>E</given-names></name><name><surname>Yao</surname><given-names>J</given-names></name><name><surname>Wu</surname><given-names>L</given-names></name><name><surname>Zhou</surname><given-names>J</given-names></name><name><surname>Ni</surname><given-names>S</given-names></name><name><surname>Liu</surname><given-names>L</given-names></name><name><surname>Pons</surname><given-names>N</given-names></name><name><surname>Batto</surname><given-names>JM</given-names></name><name><surname>Kennedy</surname><given-names>SP</given-names></name><name><surname>Leonard</surname><given-names>P</given-names></name><name><surname>Yuan</surname><given-names>C</given-names></name><name><surname>Ding</surname><given-names>W</given-names></name><name><surname>Chen</surname><given-names>Y</given-names></name><name><surname>Hu</surname><given-names>X</given-names></name><name><surname>Zheng</surname><given-names>B</given-names></name><name><surname>Qian</surname><given-names>G</given-names></name><name><surname>Xu</surname><given-names>W</given-names></name><name><surname>Ehrlich</surname><given-names>SD</given-names></name><name><surname>Zheng</surname><given-names>S</given-names></name><name><surname>Li</surname><given-names>L</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Alterations of the human gut microbiome in liver cirrhosis</article-title><source>Nature</source><volume>513</volume><fpage>59</fpage><lpage>64</lpage><pub-id pub-id-type="doi">10.1038/nature13568</pub-id></element-citation></ref><ref id="bib36"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ribeck</surname><given-names>N</given-names></name><name><surname>Lenski</surname><given-names>RE</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Modeling and quantifying frequency-dependent fitness in microbial populations with cross-feeding interactions</article-title><source>Evolution</source><volume>69</volume><fpage>1313</fpage><lpage>1320</lpage><pub-id pub-id-type="doi">10.1111/evo.12645</pub-id></element-citation></ref><ref id="bib37"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ridaura</surname><given-names>VK</given-names></name><name><surname>Faith</surname><given-names>JJ</given-names></name><name><surname>Rey</surname><given-names>FE</given-names></name><name><surname>Cheng</surname><given-names>J</given-names></name><name><surname>Duncan</surname><given-names>AE</given-names></name><name><surname>Kau</surname><given-names>AL</given-names></name><name><surname>Griffin</surname><given-names>NW</given-names></name><name><surname>Lombard</surname><given-names>V</given-names></name><name><surname>Henrissat</surname><given-names>B</given-names></name><name><surname>Bain</surname><given-names>JR</given-names></name><name><surname>Muehlbauer</surname><given-names>MJ</given-names></name><name><surname>Ilkayeva</surname><given-names>O</given-names></name><name><surname>Semenkovich</surname><given-names>CF</given-names></name><name><surname>Funai</surname><given-names>K</given-names></name><name><surname>Hayashi</surname><given-names>DK</given-names></name><name><surname>Lyle</surname><given-names>BJ</given-names></name><name><surname>Martini</surname><given-names>MC</given-names></name><name><surname>Ursell</surname><given-names>LK</given-names></name><name><surname>Clemente</surname><given-names>JC</given-names></name><name><surname>Van Treuren</surname><given-names>W</given-names></name><name><surname>Walters</surname><given-names>WA</given-names></name><name><surname>Knight</surname><given-names>R</given-names></name><name><surname>Newgard</surname><given-names>CB</given-names></name><name><surname>Heath</surname><given-names>AC</given-names></name><name><surname>Gordon</surname><given-names>JI</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Gut microbiota from twins discordant for obesity modulate metabolism in mice</article-title><source>Science</source><volume>341</volume><fpage>1241214</fpage><lpage>U49</lpage><pub-id pub-id-type="doi">10.1126/science.1241214</pub-id></element-citation></ref><ref id="bib38"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Rillig</surname><given-names>MC</given-names></name><name><surname>Antonovics</surname><given-names>J</given-names></name><name><surname>Caruso</surname><given-names>T</given-names></name><name><surname>Lehmann</surname><given-names>A</given-names></name><name><surname>Powell</surname><given-names>JR</given-names></name><name><surname>Veresoglou</surname><given-names>SD</given-names></name><name><surname>Verbruggen</surname><given-names>E</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Interchange of entire communities: microbial community coalescence</article-title><source>Trends in Ecology &amp; Evolution</source><volume>30</volume><fpage>470</fpage><lpage>476</lpage><pub-id pub-id-type="doi">10.1016/j.tree.2015.06.004</pub-id></element-citation></ref><ref id="bib39"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Rosen</surname><given-names>MJ</given-names></name><name><surname>Davison</surname><given-names>M</given-names></name><name><surname>Bhaya</surname><given-names>D</given-names></name><name><surname>Fisher</surname><given-names>DS</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Microbial diversity. Fine-scale diversity and extensive recombination in a quasisexual bacterial population occupying a broad niche</article-title><source>Science</source><volume>348</volume><fpage>1019</fpage><lpage>1023</lpage><pub-id pub-id-type="doi">10.1126/science.aaa4456</pub-id></element-citation></ref><ref id="bib40"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Roughgarden</surname><given-names>J</given-names></name></person-group><year iso-8601-date="1976">1976</year><article-title>Resource partitioning among competing species--a coevolutionary approach</article-title><source>Theoretical Population Biology</source><volume>9</volume><fpage>388</fpage><lpage>424</lpage><pub-id pub-id-type="doi">10.1016/0040-5809(76)90054-X</pub-id></element-citation></ref><ref id="bib41"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Scott-Phillips</surname><given-names>TC</given-names></name><name><surname>Laland</surname><given-names>KN</given-names></name><name><surname>Shuker</surname><given-names>DM</given-names></name><name><surname>Dickins</surname><given-names>TE</given-names></name><name><surname>West</surname><given-names>SA</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>The niche construction perspective: A critical appraisal</article-title><source>Evolution</source><volume>68</volume><fpage>1231</fpage><lpage>1243</lpage><pub-id pub-id-type="doi">10.1111/evo.12332</pub-id></element-citation></ref><ref id="bib42"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Shapiro</surname><given-names>JA</given-names></name></person-group><year iso-8601-date="1998">1998</year><article-title>Thinking about bacterial populations as multicellular organisms</article-title><source>Annual Review of Microbiology</source><volume>52</volume><fpage>81</fpage><lpage>104</lpage><pub-id pub-id-type="doi">10.1146/annurev.micro.52.1.81</pub-id></element-citation></ref><ref id="bib43"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Shapiro</surname><given-names>BJ</given-names></name><name><surname>Friedman</surname><given-names>J</given-names></name><name><surname>Cordero</surname><given-names>OX</given-names></name><name><surname>Preheim</surname><given-names>SP</given-names></name><name><surname>Timberlake</surname><given-names>SC</given-names></name><name><surname>Szabó</surname><given-names>G</given-names></name><name><surname>Polz</surname><given-names>MF</given-names></name><name><surname>Alm</surname><given-names>EJ</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Population genomics of early events in the ecological differentiation of bacteria</article-title><source>Science</source><volume>336</volume><fpage>48</fpage><lpage>51</lpage><pub-id pub-id-type="doi">10.1126/science.1218198</pub-id></element-citation></ref><ref id="bib44"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Tilman</surname><given-names>D</given-names></name></person-group><year iso-8601-date="1982">1982</year><chapter-title>Resource competition and community structure</chapter-title><source>Monographs in Population Biology</source><publisher-loc>Princeton, NJ</publisher-loc><publisher-name>Princeton University Press</publisher-name><pub-id pub-id-type="doi">10.2307/2259756</pub-id></element-citation></ref><ref id="bib45"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>West</surname><given-names>SA</given-names></name><name><surname>Griffin</surname><given-names>AS</given-names></name><name><surname>Gardner</surname><given-names>A</given-names></name><name><surname>Diggle</surname><given-names>SP</given-names></name></person-group><year iso-8601-date="2006">2006</year><article-title>Social evolution theory for microorganisms</article-title><source>Nature Reviews Microbiology</source><volume>4</volume><fpage>597</fpage><lpage>607</lpage><pub-id pub-id-type="doi">10.1038/nrmicro1461</pub-id></element-citation></ref></ref-list></back><sub-article article-type="article-commentary" id="SA1"><front-stub><article-id pub-id-type="doi">10.7554/eLife.15747.010</article-id><title-group><article-title>Decision letter</article-title></title-group><contrib-group content-type="section"><contrib contrib-type="editor"><name><surname>Bergstrom</surname><given-names>Carl T</given-names></name><aff id="aff5"><institution>University of Washington</institution>, <country>United States</country></aff></contrib></contrib-group></front-stub><body><boxed-text><p>In the interests of transparency, eLife includes the editorial decision letter and accompanying author responses. A lightly edited version of the letter sent to the authors after peer review is shown, indicating the most substantive concerns; minor comments are not usually included.</p></boxed-text><p>Thank you for submitting your article &quot;Community-level cohesion without cooperation&quot; for consideration by <italic>eLife</italic>. Your article has been reviewed by three peer reviewers, including Jeff Gore and Carl Bergstrom, who is a member of our Board of Reviewing Editors, and the evaluation has been overseen by Ian Baldwin as the Senior Editor.</p><p>The reviewers have discussed the reviews with one another and the Reviewing Editor has drafted this decision to help you prepare a revised submission.</p><p>Summary:</p><p>The author has developed a simple and powerful model of ecological community formation. The reviewers appreciate the novelty and creativity of the approach, and value the model for its simplicity, its tractability, and its role as a potential null model for thinking about community formation. With appropriate revisions this paper merit publication in <italic>eLife</italic> and serve as a valuable contribution to the research community more broadly.</p><p>Essential revisions:</p><p>1) Please attempt to provide a better intuitive understanding of what contributes to community level fitness and how it &quot;works&quot; with respect to resource partitioning, redundancy, etc. Is there a simple description of what is the quantity maximized by the community?</p><p>For example, it would be useful to find ways to visualize how community competitive ability (<italic>F</italic>) relates to the distribution of resource processing among community members (e.g. a plot of some metric of resource overlap against <italic>F</italic>). For the section 3 experiments, any theory that could developed in this arena would be very welcome. Even a nice example would help. How does AB, CD, EFG, HIJ do against invaders, for example? I might intuit that it would be hard to beat what for its efficient resource partitioning, but do &quot;cross linkages&quot; e.g. ABCF, CDEI, EFG, GHIJA do even better because they help adjust to resource availability as discussed in section IV? Do these cross-linkages help because they trade off growth against stability to environmental perturbations, as discussed in section V?</p><p>2) Please at least discuss the sensitivity of the model results to the form of the cost function. For example, how would we expect adding an exponent to norm (σ) in the cost function (2) to change things? This would modulate something like the efficiency of adding additional pathways. Are the conclusions of this work dependent on this assumption that the cost is proportional to the biomass?</p><p>3) Throughout, terms could be better defined and explained in the text. In general, the paper is quite heavy in notation, some of which may even be unnecessary. Remind the reader periodically what the variables stand for. For example, each variable could have a name in English and that name could be used together with the symbol in the text. Though it's clear from context, I don't think the paper ever explains in words how <italic>σ<sub>i</sub></italic>is to be interpreted. Nor does <italic>g<sub>σ</sub></italic> seem to be defined. <italic>H<sub>i</sub><sup>(α)</sup></italic> is not clearly explained; it's an environment, but explain how parametrized. Similarly, the figure and figure legends could be made more self-explanatory. For example, in <xref ref-type="fig" rid="fig1">Figure 1</xref> I had to go back to the main text to determine what <italic>ε</italic> was. This should be explained in words. In the interest of reaching the broadest possible set of readers perhaps consider providing a bit more explanation for technicalities such as what a Lyapunov function is.</p></body></sub-article><sub-article article-type="reply" id="SA2"><front-stub><article-id pub-id-type="doi">10.7554/eLife.15747.011</article-id><title-group><article-title>Author response</article-title></title-group></front-stub><body><p><italic>Essential revisions:</italic> </p><p> <italic>1) Please attempt to provide a better intuitive understanding of what contributes to community level fitness and how it &quot;works&quot; with respect to resource partitioning, redundancy, etc. Is there a simple description of what is the quantity maximized by the community?</italic> </p><p> <italic>For example, it would be useful to find ways to visualize how community competitive ability (F) relates to the distribution of resource processing among community members (e.g. a plot of some metric of resource overlap against F). For the section 3 experiments, any theory that could developed in this arena would be very welcome. Even a nice example would help. How does AB, CD, EFG, HIJ do against invaders, for example? I might intuit that it would be hard to beat what for its efficient resource partitioning, but do &quot;cross linkages&quot; e.g. ABCF, CDEI, EFG, GHIJA do even better because they help adjust to resource availability as discussed in section IV? Do these cross-linkages help because they trade off growth against stability to environmental perturbations, as discussed in section V?</italic> </p><p>The revised manuscript provides an improved intuitive explanation of the meaning of community &quot;fitness&quot; <italic>F</italic> as an analogue of Tilman's <italic>R*</italic> for the case where resources are additive (as considered here), rather than independently required, as in Tilman's classic approach. To illustrate this, <xref ref-type="fig" rid="fig3">Figure 3</xref> now includes an extra panel (<xref ref-type="fig" rid="fig3">Figure 3C</xref>) showing consistently strengthening resource depletion as equilibrium is approached. In addition, a new section of the Supplementary Material (<xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section I) considers the example suggested by the reviewer and explains why the community with the highest <italic>F</italic> will not generally exhibit this kind of &quot;clean resource partitioning&quot;, but will include “cross-linkages”.</p><p><italic>2) Please at least discuss the sensitivity of the model results to the form of the cost function. For example, how would we expect adding an exponent to norm (σ) in the cost function (2) to change things? This would modulate something like the efficiency of adding additional pathways. Are the conclusions of this work dependent on this assumption that the cost is proportional to the biomass?</italic></p><p>The revised manuscript clarifies that the cost function considered here ensures that the cost per pathway (&quot;intrinsic performance measure&quot;) is similar for all species. This now reads: &quot;A different cost function would effectively reduce the pool of competitors, excluding certain (prohibitively expensive) species from the start&quot;. For example, an exponent other than 1 in Eq. (2) would correspond to a systematic bias favoring generalist or specialist organisms. For strong bias, competition would reduce to the trivial case of a single generalist {1, 1,…,1} or a community of pure specialists, rendering the coalescence problem trivial. A more detailed discussion of this point is now included.</p><p>The revised manuscript also explicitly states that the assumption of the biomass being proportional to cost has no effect on conclusions: &quot;a different choice for the biomass of each species would only change transient dynamics, but not the outcome of their competition&quot;. The choice made in this work (biomass=cost) is intuitively convenient, since the &quot;intrinsic performance&quot; of a species (measured as equilibrium abundance in a &quot;pure culture&quot; chemostat) then also matches its initial growth rate. A new section was added to the supplementary material to explain this in detail (<xref ref-type="supplementary-material" rid="SD1-data">Supplementary file 1</xref>, section B).</p><p> <italic>3) Throughout, terms could be better defined and explained in the text. In general, the paper is quite heavy in notation, some of which may even be unnecessary. Remind the reader periodically what the variables stand for. For example, each variable could have a name in English and that name could be used together with the symbol in the text. Though it's clear from context, I don't think the paper ever explains in words how σ<sub>i</sub> is to be interpreted. Nor does g<sub>σ</sub> seem to be defined. H<sub>i</sub><sup>(α)</sup> is not clearly explained; it's an environment, but explain how parametrized. Similarly, the figure and figure legends could be made more self-explanatory. For example, in <xref ref-type="fig" rid="fig1">Figure 1</xref> I had to go back to the main text to determine what epsilon was. This should be explained in words. In the interest of reaching the broadest possible set of readers perhaps consider providing a bit more explanation for technicalities such as what a Lyapunov function is.</italic></p><p>I thank the reviewers for pointing out these presentation issues in such detail. Notations were improved throughout the manuscript (see the PDF of tracked changes); unnecessary notations removed (this includes <italic>P<sub>i</sub></italic> for pathways, the &quot;star&quot; notation referring to equilibrium quantities, and others). Portions of the argument were converted from formulas into words whenever feasible without ambiguity. <italic>H<sub>i</sub><sup>(α)</sup></italic>,<italic>σ</italic><sub>i</sub>, <italic>g<sub>σ</sub></italic> are explicitly defined. English names accompany symbols whenever possible. Legends of <xref ref-type="fig" rid="fig2">Figures 2</xref>, <xref ref-type="fig" rid="fig3">3</xref>, <xref ref-type="fig" rid="fig5">5</xref> were expanded to be self-explanatory. References to supplementary file now include section reference. The text was modified so familiarity with the concept of a Lyapunov function is no longer assumed or necessary.</p></body></sub-article></article>